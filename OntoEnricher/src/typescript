Script started on 2020-04-06 23:59:25-0700
]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi run.sh 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"run.sh" 129L, 4114C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#!/usr/bin/env bash[m

[36mcorpus[m=[35m$1[m [34m# The text corpus to process[m
[36mfolder[m=[35m$2[m [34m# Folder which contains all files created during script (will be auto-deleted)[m
[36mprefix[m=[35m$3[m [34m# DB File prefix[m

[38;5;130mecho[m[31m [m[38;5;130m"[m[31mCorpus: [m[38;5;130m"[m[35m$corpus[m[38;5;130m"[m[31m, Folder: [m[38;5;130m"[m[35m$folder[m[38;5;130m"[m[31m, DB File prefix: [m[38;5;130m"[m[35m$prefix[m

[36mn[m=[35m`[m[38;5;130mgrep[m[35m [m[38;5;130m""[m[35m -c [m[35m$corpus[m[35m [m[38;5;130m|[m[35m awk [m[38;5;130m'[m[31m{ print $1 }[m[38;5;130m'[m[35m`[m

[36mm[m=[31m15[m
[38;5;130mecho[m[31m [m[38;5;130m"[m[31mSplitting corpus into [m[38;5;130m"[m[35m$m[m[38;5;130m"[m[31m parts[m[38;5;130m"[m[31m [m

[38;5;130mdeclare[m[36m [m[35m-a[m[36m path_thresholds=[m[35m([m[31m3[m[35m [m[31m7[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m
[38;5;130mdeclare[m[36m [m[35m-a[m[36m maxlens=[m[35m([m[31m4[m[35m [m[31m6[m[35m)[m [34m# Maximum path lengths considered while extracting paths[m

[36mparts[m=[35m([m $[35m([mseq [31m1[m [35m$m[m [35m)[m [35m)[m

[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\n\n[m[31mTunable Parameters:[m[35m\n\n[m[31mPath Frequencies: [m[38;5;130m"[m[35m${path_thresholds[[m*[35m]}[m[38;5;130m"[m[35m\n[m[31mMax Lengths of paths: [m[38;5;130m"[m[31m [m[35m${maxlens[[m*[35m]}[m[38;5;130m"[m[35m\n\n[m[38;5;130m"

echo[m[31m [m[38;5;130m"[m[31mStage 1/3 : Splitting corpus...[m[38;5;130m"[m

split [35m-l[m [35m$n[m [35m$corpus[m [35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m [35m--numeric-suffixes=1[m;

[38;5;130mecho[m[31m [m[38;5;130m"[m[31mStage 2/3 : Parsing corpus...[m[38;5;130m"

for[m x [38;5;130min[m [38;5;130m"[m[35m${parts[[m@[35m]}[m[38;5;130m"
do[m[29;9H[36mcorpus_part[m=[35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m[35m$x[30;9H([m python3 corpus_parser.py [35m$corpus_part[m [35m)[m [38;5;130m&
done[m[32;111H1,9[11CTop[1;9H[?25h[?25l[32;101H:[1;9H[32;1H[K[32;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[32;1H[K[32;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi run.sh 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"run.sh" 129L, 4114C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#!/usr/bin/env bash[m

[36mcorpus[m=[35m$1[m [34m# The text corpus to process[m
[36mfolder[m=[35m$2[m [34m# Folder which contains all files created during script (will be auto-deleted)[m
[36mprefix[m=[35m$3[m [34m# DB File prefix[m

[38;5;130mecho[m[31m [m[38;5;130m"[m[31mCorpus: [m[38;5;130m"[m[35m$corpus[m[38;5;130m"[m[31m, Folder: [m[38;5;130m"[m[35m$folder[m[38;5;130m"[m[31m, DB File prefix: [m[38;5;130m"[m[35m$prefix[m

[36mn[m=[35m`[m[38;5;130mgrep[m[35m [m[38;5;130m""[m[35m -c [m[35m$corpus[m[35m [m[38;5;130m|[m[35m awk [m[38;5;130m'[m[31m{ print $1 }[m[38;5;130m'[m[35m`[m

[36mm[m=[31m15[m
[38;5;130mecho[m[31m [m[38;5;130m"[m[31mSplitting corpus into [m[38;5;130m"[m[35m$m[m[38;5;130m"[m[31m parts[m[38;5;130m"[m[31m [m

[38;5;130mdeclare[m[36m [m[35m-a[m[36m path_thresholds=[m[35m([m[31m3[m[35m [m[31m7[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m
[38;5;130mdeclare[m[36m [m[35m-a[m[36m maxlens=[m[35m([m[31m4[m[35m [m[31m6[m[35m)[m [34m# Maximum path lengths considered while extracting paths[m

[36mparts[m=[35m([m $[35m([mseq [31m1[m [35m$m[m [35m)[m [35m)[m

[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\n\n[m[31mTunable Parameters:[m[35m\n\n[m[31mPath Frequencies: [m[38;5;130m"[m[35m${path_thresholds[[m*[35m]}[m[38;5;130m"[m[35m\n[m[31mMax Lengths of paths: [m[38;5;130m"[m[31m [m[35m${maxlens[[m*[35m]}[m[38;5;130m"[m[35m\n\n[m[38;5;130m"

echo[m[31m [m[38;5;130m"[m[31mStage 1/3 : Splitting corpus...[m[38;5;130m"[m

split [35m-l[m [35m$n[m [35m$corpus[m [35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m [35m--numeric-suffixes=1[m;

[38;5;130mecho[m[31m [m[38;5;130m"[m[31mStage 2/3 : Parsing corpus...[m[38;5;130m"

for[m x [38;5;130min[m [38;5;130m"[m[35m${parts[[m@[35m]}[m[38;5;130m"
do[m[29;9H[36mcorpus_part[m=[35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m[35m$x[30;9H([m python3 corpus_parser.py [35m$corpus_part[m [35m)[m [38;5;130m&
done[m[32;111H1,9[11CTop[1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [2;1H[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [3;9H[32;111H3,9  [3;9H[?25h[?25l[32;101H~@k[3;9H[32;101H   [4;9H[32;111H4[4;9H[?25h[?25l[32;101H~@k[4;9H[32;101H   [5;9H[32;111H5[5;9H[?25h[?25l[32;101H~@k[5;9H[32;101H   [6;1H[32;111H6,0-1[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [7;9H[32;111H7,9  [7;9H[?25h[?25l[32;101H~@k[7;9H[32;101H   [8;1H[32;111H8,0-1[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [9;9H[32;111H9,9  [9;9H[?25h[?25l[32;101H~@k[9;9H[32;101H   [10;1H[32;111H10,0-1[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [11;4H[32;112H1,4  [11;4H[?25h[?25l[32;101Hi[11;4H[32;101H [11;4H[32;1H[1m-- INSERT --[m[32;13H[K[32;111H11,4[10CTop[11;4H[?25h[?25l[32;114H5[11;5H[?25h[?25l[12;31r[12;1H[L[1;32r[32;111H[K[32;111H12,1[10CTop[12;1H[?25h[32;1H[K[12;1H[?25l[32;101H^[[12;1H[32;101H  [12;1H[32;111H12,0-1[8CTop[12;1H[?25h[?25l[32;101Hp[12;1H[32;101H [13;1H[13;31r[13;1H[L[1;32r[13;1H[38;5;130m>>>>>>>[m 729e01f808a330e1bf97720533227031d22e17ea[32;111H[K[32;111H13,1[10CTop[13;1H[?25h[?25l[32;101Hu[13;1H[32;1H1 line less; before #2  3 seconds ago[32;101H[K[12;1H[13;31r[31;1H
[1;32r[31;9H[35m([m python3 corpus_parser.py [35m$corpus_part[m [35m)[m [38;5;130m&[m[32;1H[K[32;111H12,0-1[8CTop[12;1H[?25h[?25l[32;101Hv[12;1H[32;101H1[12;1H[32;1H[1m-- VISUAL --[m[32;101H[K[32;101H1[12;1H[32;111H12,0-1[8CTop[12;1H[?25h[?25l[32;101Hv[12;1H[32;101H [12;1H[32;1H[K[32;111H12,0-1[8CTop[12;1H[?25h[?25l[32;101Hv[12;1H[32;101H1[12;1H[32;1H[1m-- VISUAL --[m[32;101H[K[32;101H1[12;1H[32;111H12,0-1[8CTop[12;1H[?25h[?25l[32;101H^[[12;1H[32;101H1 [12;1H[32;102H^[[12;1H[32;101H   [12;1H[32;1H[K[32;111H12,0-1[8CTop[12;1H[?25h[?25l[32;101Ho[12;1H[32;101H [13;1H[32;1H[1m-- INSERT --[m[32;111H[K[32;111H13,1[10CTop[13;31r[13;1H[L[1;32r[32;111H[K[32;111H13,1[10CTop[13;1H[?25h[32;1H[K[13;1H[?25l[32;101H^[[13;1H[32;101H  [13;1H[32;111H13,0-1[8CTop[13;1H[?25h[?25l[32;101H<25ca>[13;1H[32;101H      [13;1H[?25h[?25l[32;1H[1m-- INSERT --[m[32;111H[K[32;111H13,1[10CTop[32;1H[K[13;1H[36mn[m=[35m$[m[35m[106m([m[35m(($n[m[35m + [m[31m1[m[35m)[m[35m/[m[35m$m)[m[35m[106m)[m[32;111H13,18[9CTop[13;18H[?25h[?25l[32;101H~@k[13;18H[32;101H   [12;1H[13;4H[35m([13C)[m[32;112H2,0-1[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [12;1H[?25h[?25l[32;101Hi[12;1H[32;101H [12;1H[32;1H[1m-- INSERT --[m[32;111H[K[32;111H12,1[10CTop[12;1H[?25h[?25l[11;31r[31;1H
[1;32r[11;1H[36mm[m=[31m15[m[31;9H[35m([m python3 corpus_parser.py [35m$corpus_part[m [35m)[m [38;5;130m&[m[32;111H[K[32;111H11,5[10CTop[11;5H[?25h[32;1H[K[11;4H[?25l[32;101H^[[11;4H[32;101H  [11;5H[32;111H11,4[10CTop[11;4H[?25h[?25l[32;101H~@k[11;4H[32;101H   [12;4H[35m[106m([13C)[m[32;112H2[12;4H[?25h[?25l[32;101H~@k[12;4H[32;101H   [13;4H[12;4H[35m([13C)[m[32;112H3[13;4H[?25h[?25l[32;101H~@k[13;4H[32;101H   [14;1H[32;112H4,0-1[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [15;4H[32;112H5,4  [15;4H[?25h[?25l[32;101H~@k[15;4H[32;101H   [16;4H[32;112H6[16;4H[?25h[?25l[32;101H~@k[16;4H[32;101H   [15;4H[32;112H5[15;4H[?25h[?25l[32;101H~@k[15;4H[32;101H   [15;5H[32;114H5[15;5H[?25h[?25l[32;101H~@k[15;5H[32;101H   [15;6H[32;114H6[15;6H[?25h[?25l[32;101H~@k[15;6H[32;101H   [15;7H[32;114H7[15;7H[?25h[?25l[32;101H~@k[15;7H[32;101H   [15;8H[32;114H8[15;8H[?25h[?25l[32;101H~@k[15;8H[32;101H   [15;9H[32;114H9[15;9H[?25h[?25l[32;101H~@k[15;9H[32;101H   [15;10H[32;114H10[15;10H[?25h[?25l[32;101H~@k[15;10H[32;101H   [15;11H[32;115H1[15;11H[?25h[?25l[32;101H~@k[15;11H[32;101H   [15;12H[32;115H2[15;12H[?25h[?25l[32;101H~@k[15;12H[32;101H   [15;13H[32;115H3[15;13H[?25h[?25l[32;101H~@k[15;13H[32;101H   [15;14H[32;115H4[15;14H[?25h[?25l[32;101H~@k[15;14H[32;101H   [15;15H[32;115H5[15;15H[?25h[?25l[32;101H~@k[15;15H[32;101H   [15;16H[32;115H6[15;16H[?25h[?25l[32;101H~@k[15;16H[32;101H   [15;17H[32;115H7[15;17H[?25h[?25l[32;101H~@k[15;17H[32;101H   [15;18H[32;115H8[15;18H[?25h[?25l[32;101H~@k[15;18H[32;101H   [15;19H[32;115H9[15;19H[?25h[?25l[32;101H~@k[15;19H[32;101H   [15;20H[32;114H20[15;20H[?25h[?25l[32;101H~@k[15;20H[32;101H   [15;21H[32;115H1[15;21H[?25h[?25l[32;101H~@k[15;21H[32;101H   [15;22H[32;115H2[15;22H[?25h[?25l[32;101H~@k[15;22H[32;101H   [15;23H[32;115H3[15;23H[?25h[?25l[32;101H~@k[15;23H[32;101H   [15;24H[32;115H4[15;24H[?25h[?25l[32;101H~@k[15;24H[32;101H   [15;25H[32;115H5[15;25H[?25h[?25l[32;101H~@k[15;25H[32;101H   [15;26H[32;115H6[15;26H[?25h[?25l[32;101H~@k[15;26H[32;101H   [15;27H[32;115H7[15;27H[?25h[?25l[32;101H~@k[15;27H[32;101H   [15;28H[35m[106m([3C)[m[32;115H8[15;28H[?25h[?25l[32;101H~@k[15;28H[32;101H   [15;29H[35m([3C)[m[32;115H9[15;29H[?25h[?25l[32;101H~@k[15;29H[32;101H   [15;30H[32;114H30[15;30H[?25h[?25l[32;101H~@k[15;30H[32;101H   [15;31H[32;115H1[15;31H[?25h[?25l[32;101H~@k[15;31H[32;101H   [15;32H[35m[106m([3C)[m[32;115H2[15;32H[?25h[?25l[32;101Hi[15;32H[32;101H [15;32H[32;1H[1m-- INSERT --[m[32;111H[K[32;111H15,32[9CTop[15;32H[?25h[?25l[35m[106m [m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;32H[35m [m[35m[106m)[m[32;115H3[15;33H[?25h[?25l[31m[106m1[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;33H[31m1[m[35m[106m)[m[32;115H4[15;34H[?25h[?25l[31m[106m0[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;34H[31m0[m[35m[106m)[m[32;115H5[15;35H[?25h[?25l[35m[106m [m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;35H[35m [m[35m[106m)[m[32;115H6[15;36H[?25h[?25l[31m[106m1[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;36H[31m1[m[35m[106m)[m[32;115H7[15;37H[?25h[?25l[31m[106m2[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;37H[31m2[m[35m[106m)[m[32;115H8[15;38H[?25h[?25l[35m[106m [m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;38H[35m [m[35m[106m)[m[32;115H9[15;39H[?25h[?25l[31m[106m1[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;39H[31m1[m[35m[106m)[m[32;114H40[15;40H[?25h[?25l[31m[106m5[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;40H[31m5[m[35m[106m)[m[32;115H1[15;41H[?25h[?25l[35m[106m [m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;41H[35m [m[35m[106m)[m[32;115H2[15;42H[?25h[?25l[31m[106m2[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;42H[31m2[m[35m[106m)[m[32;115H3[15;43H[?25h[?25l[31m[106m0[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;43H[31m0[m[35m[106m)[m[32;115H4[15;44H[?25h[?25l[35m[106m [m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;44H[35m [m[35m[106m)[m[32;115H5[15;45H[?25h[?25l[31m[106m2[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;45H[31m2[m[35m[106m)[m[32;115H6[15;46H[?25h[?25l[31m[106m0[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;46H[31m0[m[35m[106m)[m[32;115H7[15;47H[?25h[?25l[35m)[m[106m [m[34m# Different frequencies considered while creating frequent paths[m[15;112H[K[15;46H[35m[106m)[m [32;115H6[15;46H[?25h[?25l[31m[106m5[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;46H[31m5[m[35m[106m)[m[32;115H7[15;47H[?25h[?25l[35m[106m [m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;47H[35m [m[35m[106m)[m[32;115H8[15;48H[?25h[?25l[31m[106m5[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;48H[31m5[m[35m[106m)[m[32;115H9[15;49H[?25h[?25l[31m[106m0[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m[15;49H[31m0[m[35m[106m)[m[32;114H50[15;50H[?25h[?25l[15;28H[35m([21C)[m[32;112H6[16;50H[?25h[?25l[32;114H49[16;49H[?25h[?25l[32;115H8[16;48H[?25h[?25l[32;115H7[16;47H[?25h[?25l[32;115H6[16;46H[?25h[?25l[32;115H5[16;45H[?25h[?25l[32;115H4[16;44H[?25h[?25l[32;115H3[16;43H[?25h[?25l[32;115H2[16;42H[?25h[?25l[32;115H1[16;41H[?25h[?25l[32;115H0[16;40H[?25h[?25l[32;114H39[16;39H[?25h[?25l[32;115H8[16;38H[?25h[?25l[32;115H7[16;37H[?25h[?25l[32;115H6[16;36H[?25h[?25l[32;115H5[16;35H[?25h[?25l[32;115H4[16;34H[?25h[?25l[32;115H3[16;33H[?25h[?25l[32;115H2[16;32H[?25h[?25l[32;115H1[16;31H[?25h[?25l[32;115H0[16;30H[?25h[?25l[32;114H29[16;29H[?25h[?25l[32;115H8[16;28H[?25h[?25l[32;115H7[16;27H[?25h[?25l[32;115H6[16;26H[?25h[?25l[35m[106m([3C)[m[32;115H5[16;25H[?25h[?25l[32;115H4[16;24H[?25h[?25l[35m[106m [m[35m)[m [34m# Maximum path lengths considered while extracting paths[m[16;24H[35m [m[35m[106m)[m[32;115H5[16;25H[?25h[32;1H[K[16;24H[?25l[32;101H^[[16;24H[32;101H  [16;25H[35m([4C)[m[32;111H16,24[9CTop[16;24H[?25h[?25l[32;101H~@k[16;24H[32;101H   [16;25H[35m[106m([4C)[m[32;115H5[16;25H[?25h[?25l[32;1H[1m-- INSERT --[m[32;111H[K[32;111H16,26[9CTop[16;26H[?25h[?25l[32;1H[K[16;20H[35m([4C)[m[31m8[m [31m10[m [31m15[m [31m30[m [34m# Maximum path lengths considered while extracting paths[m[32;111H16,35[9CTop[16;35H[?25h[?25l[32;101Hu[16;35H[32;1H1 change; before #8  2 seconds ago[32;101H[K[16;26H [34m# Maximum path lengths considered while extracting paths[m[16;83H[K[32;111H16,26[9CTop[16;26H[?25h[?25l[32;101H~@k[16;26H[32;101H   [16;25H[35m[106m([4C)[m[32;115H5[16;25H[?25h[?25l[32;101H~@k[16;25H[32;101H   [16;24H[35m([4C)[m[32;115H4[16;24H[?25h[?25l[32;1H[1m-- INSERT --[m[32;13H[K[32;111H16,25[9CTop[32;1H[K[16;25H[31m8[m[35m [m[31m10[m[35m [m[31m15[m[35m [m[31m30[m[35m)[m [34m# Maximum path lengths considered while extracting paths[m[32;111H16,34[9CTop[16;34H[?25h[?25l[32;101H~@k[16;34H[32;101H   [16;35H[16;20H[35m[106m([14C)[m[32;115H5[16;35H[?25h[?25l[32;101H:[16;35H[32;101H[K[32;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"run.sh" 130L, 4162C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi or[K[Kcorpus_parser.
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"corpus_parser." [New File][2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[2;1H[94m~                                                                                                                               [3;1H~                                                                                                                               [4;1H~                                                                                                                               [5;1H~                                                                                                                               [6;1H~                                                                                                                               [7;1H~                                                                                                                               [8;1H~                                                                                                                               [9;1H~                                                                                                                               [10;1H~                                                                                                                               [11;1H~                                                                                                                               [12;1H~                                                                                                                               [13;1H~                                                                                                                               [14;1H~                                                                                                                               [15;1H~                                                                                                                               [16;1H~                                                                                                                               [17;1H~                                                                                                                               [18;1H~                                                                                                                               [19;1H~                                                                                                                               [20;1H~                                                                                                                               [21;1H~                                                                                                                               [22;1H~                                                                                                                               [23;1H~                                                                                                                               [24;1H~                                                                                                                               [25;1H~                                                                                                                               [26;1H~                                                                                                                               [27;1H~                                                                                                                               [28;1H~                                                                                                                               [29;1H~                                                                                                                               [30;1H~                                                                                                                               [31;1H~                                                                                                                               [m[32;111H0,0-1[9CAll[1;1H[?25h[?25l[32;101H:[1;1H[32;1H[K[32;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[32;1H[K[32;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi corpus_parser.py 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"corpus_parser.py" 208L, 6975C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;5HpathX, pathY = getPathFromRoot(x), getPathFromRoot(y)[3;5HminLength, minArray = findMinLength(pathX, pathY)[5;5Hidx, lowestCommonHead = findLowestCommonHead(pathX, pathY, minLength, minArray)[7;5H[38;5;130mtry[m:[8;9HpathX = pathX[idx+[31m1[m:][9;9HpathY = pathY[idx+[31m1[m:][10;9HcheckLeft, checkRight = [38;5;130mlambda[m h: h.lefts, [38;5;130mlambda[m h: h.rights[11;9H[38;5;130mif[m lowestCommonHead [38;5;130mand[m (filterPaths(checkLeft, lowestCommonHead, pathX) [38;5;130mor[m filterPaths(checkRight, lowestCommonHead, paa[12;1HthY)):[13;13H[38;5;130mreturn[m [36mNone[m[14;9HpathX = pathX[::-[31m1[m][16;9Hpaths = [([36mNone[m, xinit, pathX, lowestCommonHead, pathY, yinit, [36mNone[m)][17;9Hlefts, rights = [36mlist[m(xinit.lefts), [36mlist[m(yinit.rights)[19;9H[38;5;130mif[m lefts [38;5;130mand[m notPunct(lefts):[20;13Hpaths.append((lefts[[31m0[m], xinit, pathX, lowestCommonHead, pathY, yinit, [36mNone[m))[22;9H[38;5;130mif[m rights [38;5;130mand[m notPunct(rights):[23;13Hpaths.append(([36mNone[m, xinit, pathX, lowestCommonHead, pathY, yinit, rights[[31m0[m]))[25;9H[38;5;130mreturn[m paths
    [38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[27;9H[36mprint[m (e)[28;9H[38;5;130mreturn[m [36mNone[m

[38;5;130mdef[m [36mstringifyFilterPath[m(path, maxlen):[32;111H110,1[9C53%[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [15;1H[32;112H09,0-1[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;113H8,1  [14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;1H[32;113H7[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [11;1H[32;113H6[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [10;1H[32;113H5[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [9;1H[32;113H4[9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [8;1H[32;113H3[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [7;1H[32;113H2[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [6;1H[32;113H1[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;1H[K[32;111H100,1[9C52%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hx, y = breakCompoundWords(xinit), breakCompoundWords(yinit)[32;111H[K[32;111H99,1[10C52%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H98,1[10C51%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hxinit, yinit = tup[[31m0[m], tup[[31m1[m][32;111H[K[32;111H97,1[10C51%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H96,1[10C50%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetShortestPath[m(tup):[32;111H[K[32;111H95,1[10C50%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H94,1[10C49%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m idx, lowestCommonHead[32;111H[K[32;111H93,0-1[8C48%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H92,1[10C48%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13HlowestCommonHead = [36mNone[m[32;111H[K[32;111H91,0-1[8C47%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130melse[m:[32;111H[K[32;111H90,1[10C47%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13HlowestCommonHead = pathY[[31m0[m][32;111H[K[32;111H89,0-1[8C46%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130melif[m pathY:[32;111H[K[32;111H88,1[10C46%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13HlowestCommonHead = pathX[[31m0[m][32;111H[K[32;111H87,1[10C45%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m pathX:[32;111H[K[32;111H86,1[10C44%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hidx = [31m0[m[32;111H[K[32;111H85,1[10C44%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130melse[m:[32;111H[K[32;111H84,1[10C43%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9HlowestCommonHead = minArray[idx][32;111H[K[32;111H83,1[10C43%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hidx = minLength - [31m1[m[32;111H[K[32;111H82,1[10C42%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130melse[m:[31;1H[94m@@@                                                                                                                             [m[32;111H[K[32;111H81,1[10C42%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hidx = uncommon[[31m0[m] - [31m1[m[32;111H[K[32;111H80,1[10C41%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m uncommon:[32;111H[K[32;111H79,1[10C41%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Huncommon = [i [38;5;130mfor[m i [38;5;130min[m [36mrange[m(minLength) [38;5;130mif[m pathX[i] != pathY[i]][32;111H[K[32;111H78,1[10C40%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m minLength:[32;111H[K[32;111H77,1[10C40%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5HlowestCommonHead = [36mNone[m[32;111H[K[32;111H76,1[10C39%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfindLowestCommonHead[m(pathX, pathY, minLength, minArray):[32;111H[K[32;111H75,1[10C38%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H74,1[10C38%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m ([36mlen[m(y), y)[32;111H[K[32;111H73,1[10C37%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m ([36mlen[m(x), x)[32;111H[K[32;111H72,1[10C37%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m [36mlen[m(x) < [36mlen[m(y):[32;111H[K[32;111H71,1[10C36%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfindMinLength[m(x, y):[32;111H[K[32;111H70,1[10C36%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H69,0-1[8C35%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m elem[32;111H[K[32;111H68,1[10C35%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H67,1[10C34%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m root[32;111H[K[32;111H66,1[10C33%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hroot = elem.root[32;111H[K[32;111H65,1[10C33%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H64,0-1[8C32%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mbreakCompoundWords[m(elem):[32;111H[K[32;111H63,1[10C32%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H62,1[10C31%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m paths[32;111H[K[32;111H61,1[10C31%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpaths = paths[::-[31m1[m][32;111H[K[32;111H60,1[10C30%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hhead = phrase.head[32;111H[K[32;111H59,1[10C29%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpaths.append(phrase)[32;111H[K[32;111H58,1[10C29%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hphrase = phrase.head[32;111H[K[32;111H57,0-1[8C28%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwhile[m phrase != head:[32;111H[K[32;111H56,1[10C28%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hhead = phrase.head[32;111H[K[32;111H55,1[10C27%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpaths = [][32;111H[K[32;111H54,1[10C27%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetPathFromRoot[m(phrase):[32;111H[K[32;111H53,1[10C26%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H52,1[10C25%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m [36misinstance[m(token, Token) [38;5;130mand[m lowestCommonHead == token[32;111H[K[32;111H51,1[10C25%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mcheckHead[m(token, lowestCommonHead):[32;111H[K[32;111H50,1[10C24%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H49,1[10C24%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m [36mFalse[m[32;111H[K[32;111H48,1[10C23%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H47,0-1[8C23%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m x!=y[32;111H[K[32;111H46,1[10C22%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H45,1[10C22%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mnotEqual[m(x, y):[32;111H[K[32;111H44,0-1[8C21%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,1[10C20%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m firstWord.tag_ != [31m'PUNCT'[m [38;5;130mand[m [36mlen[m(firstWord.string.strip()) > [31m1[m[32;111H[K[32;111H42,1[10C20%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5HfirstWord = arr[[31m0[m][32;111H[K[32;111H41,1[10C19%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mnotPunct[m(arr):[32;111H[K[32;111H40,1[10C19%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H39,1[10C18%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m [36many[m(node [38;5;130mnot[m [38;5;130min[m function(path) [38;5;130mfor[m path, node [38;5;130min[m [36mlist[m([36mzip[m(path1, path2)))[32;111H[K[32;111H38,0-1[8C18%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hpath2 = paths[32;111H[K[32;111H37,1[10C17%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hpath1.extend(paths[:-[31m1[m])[32;111H[K[32;111H36,1[10C16%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath1 = [lowestCommonHead][32;111H[K[32;111H35,1[10C16%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfilterPaths[m(function, lowestCommonHead, paths):[32;111H[K[32;111H34,0-1[8C15%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H33,1[10C15%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m path[32;111H[K[32;111H32,1[10C14%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath = [31m'/'[m.join([edge, pos, deps [38;5;130mif[m deps [38;5;130melse[m [31m'ROOT'[m])[32;111H[K[32;111H31,1[10C14%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hpos, deps = word.pos_, word.dep_[32;111H[K[32;111H30,1[10C13%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mpass[m[32;111H[K[32;111H29,1[10C12%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H28,0-1[8C12%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword = word.root[32;111H[K[32;111H27,1[10C11%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H26,1[10C11%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mstringifyArg[m(word, edge):[32;111H[K[32;111H25,1[10C10%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H24,1[10C10%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m path[32;111H[K[32;111H23,1[11C9%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hpath = [31m'/'[m.join([word, pos, deps [38;5;130mif[m deps [38;5;130mand[m root [38;5;130melse[m [31m'ROOT'[m])[32;111H[K[32;111H22,1[11C9%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpos, deps = w.pos_, w.dep_[32;111H[K[32;111H21,1[11C8%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hword = [31m' '[m.join([wd.string.strip().lower() [38;5;130mfor[m wd [38;5;130min[m word])[32;111H[K[32;111H20,1[11C7%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130melse[m:[32;111H[K[32;111H19,0-1[9C7%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword = word.lemma_.strip().lower()[32;111H[K[32;111H18,1[11C6%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m [36misinstance[m(word, Token):[32;111H[K[32;111H17,1[11C6%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H16,1[11C5%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hw = word[32;111H[K[32;111H15,1[11C5%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H14,1[11C4%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hw = word.root[32;111H[K[32;111H13,1[11C3%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H12,1[11C3%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mstringifyEdge[m(word, root=[36mTrue[m):[32;111H[K[32;111H11,0-1[9C2%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H10,1[11C2%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1HMAX_PATH_LENS = [[31m4[m, [31m6[m][32;111H[K[32;111H9,1[12C1%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H8,1[12C1%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[35mfrom[m spacy.tokens.token [35mimport[m Token[32;111H[K[32;111H7,1[12C0%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[35mimport[m spacy, subprocess, itertools, multiprocessing, sys[32;111H[K[32;111H6,1[11CTop[6;1H[?25h[?25l[32;111H5,0-1[5;1H[?25h[?25l[32;111H4,1  [4;1H[?25h[?25l[32;111H3,0-1[3;1H[?25h[?25l[32;111H2,1  [2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [1;1H[32;111H1[1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [2;1H[32;111H2[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [3;1H[32;111H3,0-1[3;1H[?25h[?25l[32;101H~@k[3;1H[32;101H   [4;1H[32;111H4,1  [4;1H[?25h[?25l[32;101H~@k[4;1H[32;101H   [4;2H[32;113H2[4;2H[?25h[?25l[32;101H~@k[4;2H[32;101H   [4;3H[32;113H3[4;3H[?25h[?25l[32;101H~@k[4;3H[32;101H   [4;4H[32;113H4[4;4H[?25h[?25l[32;101H~@k[4;4H[32;101H   [4;5H[32;113H5[4;5H[?25h[?25l[32;101H~@k[4;5H[32;101H   [4;6H[32;113H6[4;6H[?25h[?25l[32;101H~@k[4;6H[32;101H   [4;7H[32;113H7[4;7H[?25h[?25l[32;101H~@k[4;7H[32;101H   [4;8H[32;113H8[4;8H[?25h[?25l[32;101H~@k[4;8H[32;101H   [4;9H[32;113H9[4;9H[?25h[?25l[32;101H~@k[4;9H[32;101H   [4;10H[32;113H10[4;10H[?25h[?25l[32;101H~@k[4;10H[32;101H   [4;11H[32;114H1[4;11H[?25h[?25l[32;101H~@k[4;11H[32;101H   [4;12H[32;114H2[4;12H[?25h[?25l[32;101H~@k[4;12H[32;101H   [4;13H[32;114H3[4;13H[?25h[?25l[32;101H~@k[4;13H[32;101H   [4;14H[32;114H4[4;14H[?25h[?25l[32;101H~@k[4;14H[32;101H   [4;15H[32;114H5[4;15H[?25h[?25l[32;114H6[4;16H[?25h[?25l[32;101H~@k[4;16H[32;101H   [4;17H[106m[[4C][m[32;114H7[4;17H[?25h[?25l[[4C][32;114H8[4;18H[?25h[?25l[32;101H~@k[4;18H[32;101H   [4;19H[32;114H9[4;19H[?25h[?25l[32;113H20[4;20H[?25h[?25l[32;101H~@k[4;20H[32;101H   [4;21H[32;114H1[4;21H[?25h[?25l[32;101H~@k[4;21H[32;101H   [4;22H[106m[[4C][m[32;114H2[4;22H[?25h[?25l[32;101H~@k[4;22H[32;101H   [4;22H[?25h[?25l[32;101H~@k[4;22H[32;101H   [4;21H[[4C][32;114H1[4;21H[?25h[?25l[32;101H~@k[4;21H[32;101H   [4;22H[106m[[4C][m[32;114H2[4;22H[?25h[?25l[32;101Hi[4;22H[32;101H [4;22H[32;1H[1m-- INSERT --[m[32;111H[K[32;111H4,22[10CTop[4;22H[?25h[?25l[106m,[m],[106m][m[32;114H3[4;23H[?25h[?25l[106m [m] [106m][m[32;114H4[4;24H[?25h[32;1H[K[4;23H[?25l[32;101H^[[4;23H[32;101H  [4;24H[4;17H[[6C][32;111H4,23[10CTop[4;23H[?25h[?25l[32;1H[1m-- INSERT --[m[32;111H[K[32;111H4,24[10CTop[4;17H[106m[[6C][?25h[?25l[m[32;1H[K[4;17H[[6C[31m8[m, [31m10[m, [31m15[m, [31m30[m][32;111H4,36[10CTop[4;36H[?25h[?25l[32;101H~@k[4;36H[32;101H   [4;37H[4;17H[106m[[19C][m[32;114H7[4;37H[?25h[?25l[32;101H:[4;37H[32;101H[K[32;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?2004l"corpus_parser.py" 208L, 6990C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi path_terms_indexer.py 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"path_terms_indexer.py" 107L, 3647C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35mimport[m sys, re, pickle

[38;5;130mdef[m [36mprocessTerm[m(term):
    term = [31m" "[m.join(re.sub([31m"[^A-Za-z0-9 ]+"[m, [31m" "[m, term).strip().split())
    term = term.encode([31m"ascii"[m, [31m"ignore"[m)
    [38;5;130mreturn[m term.strip()

[38;5;130mdef[m [36mindexPathTerm[m(words_file):[10;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/filtered_paths"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m paths:[12;9Hfiltered_paths = [][13;9H[38;5;130mfor[m path [38;5;130min[m paths:[14;13Hfiltered_paths.append(path.strip())[15;9Hfiltered_paths = [36mlist[m([36mset[m(filtered_paths))[18;9Hpath_to_id_dict = {filtered_paths[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[19;9Hid_to_path_dict = {i:filtered_paths[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[21;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[22;13Hpickle.dump(path_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[24;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_path_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[25;13Hpickle.dump(id_to_path_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[27;5H[38;5;130mwith[m [36mopen[m(words_file, [31m"r"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m terms:[28;9Hwords = [processTerm(term) [38;5;130mfor[m term [38;5;130min[m terms][30;9Hword_to_id_dict = {words[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[31;9Hid_to_word_dict = {i:words[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H1,1[11CTop[1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [2;1H[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [3;1H[32;111H3,1  [3;1H[?25h[?25l[32;101H~@k[3;1H[32;101H   [4;1H[32;111H4[4;1H[?25h[?25l[32;101H~@k[4;1H[32;101H   [5;1H[32;111H5[5;1H[?25h[?25l[32;111H6[6;1H[?25h[?25l[32;111H7,0-1[7;1H[?25h[?25l[32;111H8,1  [8;1H[?25h[?25l[32;111H9,0-1[9;1H[?25h[?25l[32;111H10,1 [10;1H[?25h[?25l[32;112H1[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [12;1H[32;112H2[12;1H[?25h[?25l[32;112H3[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [14;1H[32;112H4[14;1H[?25h[?25l[32;112H5[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [16;1H[32;112H6,0-1[16;1H[?25h[?25l[32;112H7[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [18;1H[32;112H8,1  [18;1H[?25h[?25l[32;112H9[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [20;1H[32;111H20,0-1[20;1H[?25h[?25l[32;112H1,1  [21;1H[?25h[?25l[32;112H2[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [23;1H[32;112H3,0-1[23;1H[?25h[?25l[32;112H4,1  [24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [25;1H[32;112H5[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [26;1H[32;112H6,0-1[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;1H[K[32;111H27,1[11C1%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H28,1[11C2%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H29,1[11C3%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H30,1[11C5%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H31,1[11C6%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H32,0-1[9C7%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H33,1[11C9%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H34,1[10C10%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H35,0-1[8C11%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H36,1[10C13%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H37,1[10C14%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H38,0-1[8C15%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H39,0-1[8C17%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H40,1[10C18%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H41,0-1[8C19%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H42,1[10C21%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H43,1[10C22%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H44,0-1[8C23%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H45,1[10C25%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H46,1[10C26%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H47,1[10C27%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[38;5;130mtry[m:[32;111H[K[32;111H48,1[10C28%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H49,0-1[8C30%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mexcept[m:[32;111H[K[32;111H50,1[10C31%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H51,1[10C32%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;21H[38;5;130mraise[m[32;111H[K[32;111H52,1[10C34%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130melse[m:[32;111H[K[32;111H53,1[10C35%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H54,1[10C36%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H55,1[10C38%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H56,1[10C39%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H57,1[10C40%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C42%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H59,1[10C43%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H60,0-1[8C44%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[36mprint[m (e, x, y)[32;111H[K[32;111H61,1[10C46%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H62,1[10C47%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H63,1[10C48%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H64,1[10C50%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H65,1[10C51%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H66,1[10C52%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H67,1[10C53%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Houtput_parsed.close()[32;111H[K[32;111H68,1[10C55%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H69,1[10C56%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H70,1[10C57%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H71,1[10C59%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Hword_occurence_map = {}[32;111H[K[32;111H72,0-1[8C60%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H73,1[10C61%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m inp:[32;111H[K[32;111H74,0-1[8C63%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m inp:[32;111H[K[32;111H75,1[10C64%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hx, y, path, count = line.strip().split([31m' '[m)[32;111H[K[32;111H76,0-1[8C65%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H77,1[10C67%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hkey = [36mstr[m(x) + [31m'_'[m + [36mstr[m(y)[32;111H[K[32;111H78,0-1[8C68%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hcurrent = path + [31m":"[m + count[32;111H[K[32;111H79,1[10C69%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H80,1[10C71%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m key [38;5;130min[m word_occurence_map:[32;111H[K[32;111H81,1[10C72%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hpastkeys = word_occurence_map[key][32;111H[K[32;111H82,0-1[8C73%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hcurrent =  pastkeys + [31m','[m + current[32;111H[K[32;111H83,1[10C75%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hword_occurence_map[key] = current[32;111H[K[32;111H84,1[10C76%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H85,0-1[8C77%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H86,1[10C78%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H87,1[10C80%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H88,1[10C81%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H89,1[10C82%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H90,0-1[8C84%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1Hpaths_folder = sys.argv[[31m1[m][32;111H[K[32;111H91,1[10C85%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[36mfile[m = sys.argv[[31m2[m][32;111H[K[32;111H92,1[10C86%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hprefix = sys.argv[[31m3[m][32;111H[K[32;111H93,1[10C88%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hmode = sys.argv[[31m4[m][32;111H[K[32;111H94,0-1[8C89%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mif[m mode==[31m"1"[m:[32;111H[K[32;111H95,0-1[8C90%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexPathTerm([36mfile[m)[32;111H[K[32;111H96,1[10C92%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"2"[m:[32;111H[K[32;111H97,1[10C93%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HgetTripletIDFromDB([36mfile[m)[32;111H[K[32;111H98,1[10C94%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"3"[m:[32;111H[K[32;111H99,1[10C96%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexWordPairs([36mfile[m)[32;111H[K[32;111H100,1[9C97%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H101,1[9C98%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H102,1[9CBot[26;1H[?25h[?25l[32;113H3[27;1H[?25h[?25l[32;113H4[28;1H[?25h[?25l[32;113H5[29;1H[?25h[?25l[32;113H6,0-1[30;1H[?25h[?25l[32;113H7,1  [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [30;1H[32;113H6,0-1[30;1H[?25h[?25l[32;101H~@k[30;1H[32;101H   [29;1H[32;113H5,1  [29;1H[?25h[?25l[32;101H~@k[29;1H[32;101H   [28;1H[32;113H4[28;1H[?25h[?25l[32;101H~@k[28;1H[32;101H   [27;1H[32;113H3[27;1H[?25h[?25l[32;101H~@k[27;1H[32;101H   [26;1H[32;113H2[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [25;1H[32;113H1[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [24;1H[32;113H0[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;1H[32;111H99,1 [23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [22;1H[32;112H8[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [21;1H[32;112H7[21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [20;1H[32;112H6[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [19;1H[32;112H5,0-1[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [18;1H[32;112H4[18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [17;1H[32;112H3,1  [17;1H[?25h[?25l[32;112H2[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [15;1H[32;112H1[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;112H0,0-1[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;1H[32;111H89,1  [13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [12;1H[32;112H8[12;1H[?25h[?25l[32;101H:[12;1H[32;101H[K[32;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[32;1H[K[32;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi run.sh 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"run.sh" 130L, 4162C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#!/usr/bin/env bash[m

[36mcorpus[m=[35m$1[m [34m# The text corpus to process[m
[36mfolder[m=[35m$2[m [34m# Folder which contains all files created during script (will be auto-deleted)[m
[36mprefix[m=[35m$3[m [34m# DB File prefix[m

[38;5;130mecho[m[31m [m[38;5;130m"[m[31mCorpus: [m[38;5;130m"[m[35m$corpus[m[38;5;130m"[m[31m, Folder: [m[38;5;130m"[m[35m$folder[m[38;5;130m"[m[31m, DB File prefix: [m[38;5;130m"[m[35m$prefix[m

[36mn[m=[35m`[m[38;5;130mgrep[m[35m [m[38;5;130m""[m[35m -c [m[35m$corpus[m[35m [m[38;5;130m|[m[35m awk [m[38;5;130m'[m[31m{ print $1 }[m[38;5;130m'[m[35m`[m

[36mm[m=[31m15[m
[36mn[m=[35m$((($n[m[35m + [m[31m1[m[35m)[m[35m/[m[35m$m))[m
[38;5;130mecho[m[31m [m[38;5;130m"[m[31mSplitting corpus into [m[38;5;130m"[m[35m$m[m[38;5;130m"[m[31m parts[m[38;5;130m"[m[31m [m

[38;5;130mdeclare[m[36m [m[35m-a[m[36m path_thresholds=[m[35m([m[31m3[m[35m [m[31m7[m[35m [m[31m10[m[35m [m[31m12[m[35m [m[31m15[m[35m [m[31m20[m[35m [m[31m25[m[35m [m[31m50[m[35m)[m [34m# Different frequencies considered while creating frequent paths[m
[38;5;130mdeclare[m[36m [m[35m-a[m[36m maxlens=[m[35m[106m([m[31m4[m[35m [m[31m6[m[35m [m[31m8[m[35m [m[31m10[m[35m [m[31m15[m[35m [m[31m30[m[35m[106m)[m [34m# Maximum path lengths considered while extracting paths[m

[36mparts[m=[35m([m $[35m([mseq [31m1[m [35m$m[m [35m)[m [35m)[m

[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\n\n[m[31mTunable Parameters:[m[35m\n\n[m[31mPath Frequencies: [m[38;5;130m"[m[35m${path_thresholds[[m*[35m]}[m[38;5;130m"[m[35m\n[m[31mMax Lengths of paths: [m[38;5;130m"[m[31m [m[35m${maxlens[[m*[35m]}[m[38;5;130m"[m[35m\n\n[m[38;5;130m"

echo[m[31m [m[38;5;130m"[m[31mStage 1/3 : Splitting corpus...[m[38;5;130m"[m

split [35m-l[m [35m$n[m [35m$corpus[m [35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m [35m--numeric-suffixes=1[m;

[38;5;130mecho[m[31m [m[38;5;130m"[m[31mStage 2/3 : Parsing corpus...[m[38;5;130m"

for[m x [38;5;130min[m [38;5;130m"[m[35m${parts[[m@[35m]}[m[38;5;130m"
do[m[30;9H[36mcorpus_part[m=[35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m[35m$x[31;9H([m python3 corpus_parser.py [35m$corpus_part[m [35m)[m [38;5;130m&[m[32;111H16,35[9CTop[16;35H[?25h[?25l[32;101H~@k[16;35H[32;101H   [17;1H[16;20H[35m([14C)[m[32;112H7,0-1[17;1H[?25h[?25l[18;7H[35m[106m([14C)[m[32;112H8,22 [18;22H[?25h[?25l[32;101H~@k[18;22H[32;101H   [19;1H[18;7H[35m([14C)[m[32;112H9,0-1[19;1H[?25h[?25l[32;111H20,35 [20;35H[?25h[?25l[32;112H1,0-1[21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [22;35H[32;112H2,35 [22;35H[?25h[?25l[32;112H3,0-1[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [24;35H[32;112H4,35 [24;35H[?25h[?25l[32;112H5,0-1[25;1H[?25h[?25l[32;112H6,35 [26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdone[m[32;1H[K[32;111H27,0-1[9C1%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mwait[m[32;111H[K[32;111H28,22[10C2%[26;22H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H29,2[11C3%[26;2H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mecho[m[31m [m[38;5;130m"[m[31mStage 3/3: The main stage: tuning of parameters...[m[38;5;130m"[m[32;111H[K[32;111H30,28-35[7C4%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[36mindex[m=[31m0[m[32;111H[K[32;111H31,28-35[7C5%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mfor[m maxlen [38;5;130min[m [38;5;130m"[m[35m${maxlens[[m@[35m]}[m[38;5;130m"[m[32;111H[K[32;111H32,4[11C6%[26;4H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdo[m[32;111H[K[32;111H33,4[11C7%[26;4H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130m([m[35m([mindex++[35m)[m[38;5;130m)[m[32;111H[K[32;111H34,0-1[9C8%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H35,35[10C9%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\t[m[38;5;130m"[m[35m$(([m[35mindex*[m[31m100[m[35m/[m[35m${#maxlens[[m@[35m]}))[m[38;5;130m"[m[31m% done: Maximum Path Length: [m[38;5;130m"[m[35m$maxlen[m[32;111H[K[32;111H36,7[10C10%[26;7H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[36mparsed_final[m=[35m$corpus[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[38;5;130m"[m[31m_parsed[m[38;5;130m"[m[32;111H[K[32;111H37,29[9C11%[26;29H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hcat [35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m*[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[38;5;130m"[m[31m_parsed[m[38;5;130m"[m [38;5;130m>[m [35m$parsed_final[m[32;111H[K[32;111H38,2[10C12%[26;2H[?25h[?25l[1;31r[31;1H
[1;32r[26;9H[38;5;130m[106m([9C)[m[32;111H[K[32;111H39,12-19      13%[26;19H[?25h[?25l[1;31r[31;1H
[1;32r[25;9H[38;5;130m([9C)[31;9Hecho[m[31m -e [m[38;5;130m"[m[35m\t[m[31mStep: Counting relations...[m[38;5;130m"[m[32;111H[K[32;111H40,1-8[8C14%[26;8H[?25h[?25l[1;31r[31;1H
[1;32r[26;35H[35m[106m{[11C}[m[31;9H[38;5;130mfor[m x [38;5;130min[m [38;5;130m"[m[35m${parts[[m@[35m]}[m[38;5;130m"[m[32;111H[K[32;111H41,28-35      15%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[25;35H[35m{[11C}[m[31;9H[38;5;130mdo[m[32;111H[K[32;111H42,28-35      16%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[36mparsed_final_part[m=[35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m[35m$x[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[38;5;130m"[m[31m_parsed[m[38;5;130m"[m[32;111H[K[32;111H43,28-35      17%[26;35H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;17H[35m([m awk [35m-F[m [38;5;130m"[m[35m\t[m[38;5;130m"[m [38;5;130m'[m[31m{relations[$3]++} END{for(relation in relations){print relation"\t"relations[relation]}}[m[38;5;130m'[m [35m$parsedd[31;1H_final_part[m [38;5;130m>[m [35m$corpus[m[38;5;130m"[m[31m_paths_[m[38;5;130m"[m[35m$x[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m [35m)[m [38;5;130m&[m[32;111H[K[32;111H44,0-1[8C19%[25;1H[?25h[?25l[32;112H5,28-35[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mdone[m[32;111H[K[32;111H46,23-30      20%[26;30H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwait[m[32;111H[K[32;111H47,3-10[7C21%[26;10H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H48,21-35      22%[26;35H[?25h[?25l[32;101H~@k[26;35H[32;101H   [25;35H[1;31r[1;1H[2M[1;32r[31;9H[36mpaths[m=[35m$folder[m[38;5;130m"[m[31mall_paths_[m[38;5;130m"[m[35m$maxlen[m[32;111H[K[32;111H49,21-35      24%[25;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hcat [35m$corpus[m[38;5;130m"[m[31m_paths_[m[38;5;130m"[m*[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m [38;5;130m>[m [35m$paths[m[32;111H[K[32;111H50,5-12[7C25%[26;12H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mrm[m [35m$corpus[m[38;5;130m"[m[31m_paths_[m[38;5;130m"[m*[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[32;111H[K[32;111H51,5-12[7C26%[26;12H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H52,1-8[8C27%[26;8H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\t[m[31mStep: Filtering common paths...[m[38;5;130m"[m[32;111H[K[32;111H53,0-1[8C28%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m n [38;5;130min[m [38;5;130m"[m[35m${path_thresholds[[m@[35m]}[m[38;5;130m"[m[32;111H[K[32;111H54,28-35      29%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mdo[m[32;111H[K[32;111H55,28-35      30%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\t\t[m[31mPath threshold: [m[38;5;130m"[m[35m$n[m[32;111H[K[32;111H56,28-35      31%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mmkdir[m [35m$folder$prefix[m[38;5;130m"[m[31m_threshold_[m[38;5;130m"[m[35m$n[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[32;111H[K[32;111H57,0-1[8C32%[26;1H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;17H[35m([m awk [35m-F[m [38;5;130m"[m[35m\t[m[38;5;130m"[m [38;5;130m'[m[31m{i[$1]+=$2} END{for(x in i){ if (i[x] >= [m[38;5;130m'[m[35m$n[m[38;5;130m'[m[31m) print x } }[m[38;5;130m'[m [35m$paths[m [38;5;130m>[m [35m$folder$prefix[m[38;5;130m"[m[31m_threshold_[m[38;5;130m"[m[35m$$[31;1Hn[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[38;5;130m'[m[31m/filtered_paths[m[38;5;130m'[m  [35m)[m [38;5;130m&[m[32;111H[K[32;111H58,28-35      33%[25;35H[?25h[?25l[32;112H9[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mdone[m[32;111H[K[32;111H60,3-10[7C34%[26;10H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwait[m[32;111H[K[32;111H61,21-35      35%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mrm[m [35m$paths[m[32;111H[K[32;111H62,21-35      36%[26;35H[?25h[?25l[1;31r[1;1H[2M[1;32r[31;9H[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\t[m[31mStep: Creating word files...[m[38;5;130m"[m[32;111H[K[32;111H63,21-35      38%[25;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hawk [38;5;130m-F$'[m[35m\t[m[38;5;130m'[m [38;5;130m'[m[31m{if (a[$1] == 0) {a[$1] = -1; print $1}}[m[38;5;130m'[m [35m$parsed_final[m [38;5;130m>[m [35m$folder[m[38;5;130m"[m[31mxterms_[m[38;5;130m"[m[35m$maxlen[m [38;5;130m&[m [36mPIDLEFT[m=[35m$![m[32;111H[K[32;111H64,5-12[7C39%[26;12H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hawk [38;5;130m-F$'[m[35m\t[m[38;5;130m'[m [38;5;130m'[m[31m{if (a[$2] == 0) {a[$2] = -1; print $2}}[m[38;5;130m'[m [35m$parsed_final[m [38;5;130m>[m [35m$folder[m[38;5;130m"[m[31myterms_[m[38;5;130m"[m[35m$maxlen[m [38;5;130m&[m [36mPIDRIGHT[m=[35m$![m[32;111H[K[32;111H65,5-12[7C40%[26;12H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H66,10-17      41%[26;17H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwait[m [35m$PIDLEFT[m[32;111H[K[32;111H67,0-1[8C42%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwait[m [35m$PIDRIGHT[m[32;111H[K[32;111H68,28-35      43%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hcat [35m$folder[m[38;5;130m"[m[31mxterms_[m[38;5;130m"[m[35m$maxlen[m [35m$folder[m[38;5;130m"[m[31myterms_[m[38;5;130m"[m[35m$maxlen[m [38;5;130m|[m [38;5;130msort[m [38;5;130m-u[m [38;5;130m>[m [35m$folder[m[38;5;130m"[m[31mterms_[m[38;5;130m"[m[35m$maxlen[m[38;5;130m;[m[32;111H[K[32;111H69,28-35      44%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mrm[m [35m$folder[m[38;5;130m"[m[31mxterms_[m[38;5;130m"[m[35m$maxlen[m [35m$folder[m[38;5;130m"[m[31myterms_[m[38;5;130m"[m[35m$maxlen[m [35m$parsed_final[m[32;111H[K[32;111H70,28-35      45%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H71,0-1[8C46%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;21H[1;31r[31;1H
[1;32r[31;9H[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\t[m[31mStep: Creating term and path db files...[m[38;5;130m"[m[32;111H[K[32;111H72,14-21      47%[26;21H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;9H[38;5;130mfor[m n [38;5;130min[m [38;5;130m"[m[35m${path_thresholds[[m@[35m]}[m[38;5;130m"[31;9Hdo[m[32;111H[K[32;111H73,15-22      49%[25;22H[?25h[?25l[32;112H4,28-35[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[36mpaths_folder[m=[35m$folder$prefix[m[38;5;130m"[m[31m_threshold_[m[38;5;130m"[m[35m$n[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[32;111H[K[32;111H75,28-35      50%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[35m([m python3 path_terms_indexer.py [35m$paths_folder[m [35m$folder[m[38;5;130m"[m[31mterms_[m[38;5;130m"[m[35m$maxlen[m [35m$prefix[m [31m1[m[38;5;130m;[m [35m)[m [38;5;130m&[m[32;111H[K[32;111H76,0-1[8C51%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mdone[m[32;111H[K[32;111H77,28-35      52%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwait[m[32;111H[K[32;111H78,28-35      53%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H79,3-10[7C54%[26;10H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mrm[m [35m$folder[m[38;5;130m"[m[31mterms_[m[38;5;130m"[m[35m$maxlen[m[32;111H[K[32;111H80,21-35      55%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mrm[m [35m$folder$prefix[m[38;5;130m"[m[31m_threshold_[m[38;5;130m"[m*[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[38;5;130m"[m[31m/[m[38;5;130m"[mfiltered_paths[32;111H[K[32;111H81,21-35      56%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H82,5-12[7C57%[26;12H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\t[m[31mStep: Processing triplets...[m[38;5;130m"[m[32;111H[K[32;111H83,5-12[7C58%[26;12H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m n [38;5;130min[m [38;5;130m"[m[35m${path_thresholds[[m@[35m]}[m[38;5;130m"[m[32;111H[K[32;111H84,0-1[8C59%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mdo[m[32;111H[K[32;111H85,27-34      60%[26;34H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mecho[m[31m -e [m[38;5;130m"[m[35m\t\t[m[31mPath threshold: [m[38;5;130m"[m[35m$n[m[32;111H[K[32;111H86,28-35      61%[26;35H[?25h[?25l[32;101H~@k[26;35H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H87,0-1[8C62%[26;1H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;17H[36mpaths_folder[m=[35m$folder$prefix[m[38;5;130m"[m[31m_threshold_[m[38;5;130m"[m[35m$n[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[32;111H[K[32;111H88,28-35      63%[25;35H[?25h[?25l[32;112H9[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[34m# Creating an ID file for the parsed triplets[m[32;111H[K[32;111H90,3-10[7C64%[26;10H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mfor[m x [38;5;130min[m [38;5;130m"[m[35m${parts[[m@[35m]}[m[38;5;130m"[m[32;111H[K[32;111H91,21-35      65%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mdo[m[32;111H[K[32;111H92,0-1[8C66%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;25H[36mparsed_final_part[m=[35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m[35m$x[m[38;5;130m"[m[31m_[m[38;5;130m"[m[35m$maxlen[m[38;5;130m"[m[31m_parsed[m[38;5;130m"[m[32;111H[K[32;111H93,21-35      67%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;25H[35m([m python3 path_terms_indexer.py [35m$paths_folder[m [35m$parsed_final_part[m [35m$prefix[m [31m2[m[38;5;130m;[m [35m)[m [38;5;130m&[m[32;111H[K[32;111H94,0-1[8C68%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mdone[m[32;111H[K[32;111H95,21-35      69%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mwait[m[32;111H[K[32;111H96,21-35      70%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H97,4-18[7C71%[26;18H[?25h[?25l[32;101H~@k[26;18H[32;101H   [26;35H[1;31r[31;1H
[1;32r[31;17H[34m# Counting triplet IDs to calculate number of occurences[m[32;111H[K[32;111H98,14-35      72%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mfor[m x [38;5;130min[m [38;5;130m"[m[35m${parts[[m@[35m]}[m[38;5;130m"[m[32;111H[K[32;111H99,14-35      73%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mdo[m[32;111H[K[32;111H100,6-20      74%[26;20H[?25h[?25l[1;31r[31;1H
[1;32r[31;25H[36mtriplet_part_file[m=[35m$paths_folder[m[38;5;130m"[m[31m/triplet_id_[m[38;5;130m"[m[35m$x[m[32;111H[K[32;111H101,6-20      75%[26;20H[?25h[?25l[1;31r[31;1H
[1;32r[31;25H[36mtriplet_count_file[m=[35m$paths_folder[m[38;5;130m"[m[31m/triplet_count_[m[38;5;130m"[m[35m$x[m[32;111H[K[32;111H102,0-1[7C76%[26;1H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;25H[35m([m awk [35m-F[m [38;5;130m"[m[35m\t[m[38;5;130m"[m [38;5;130m'[m[31m{relations[$0]++} END{for(relation in relations){print relation"\t"relations[relation]}}[m[38;5;130m''[m[31;1H [35m$triplet_part_file[m [38;5;130m>[m [35m$triplet_count_file[m [35m)[m [38;5;130m&[m[32;111H[K[32;111H103,21-35     78%[25;35H[?25h[?25l[32;113H4[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mdone[m[32;111H[K[32;111H105,4-18      79%[26;18H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mwait[m[32;111H[K[32;111H106,14-35     80%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H107,14-35     81%[26;35H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;17H[38;5;130mrm[m [35m$paths_folder[m[38;5;130m"[m[31m/triplet_id_[m[38;5;130m"[m*[32;111H[K[32;111H108,14-35     83%[25;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hcat [35m$paths_folder[m[38;5;130m"[m[31m/triplet_count_[m[38;5;130m"[m* [38;5;130m>[m [35m$paths_folder[m[38;5;130m"[m[31m/triplet_count[m[38;5;130m";[m[32;111H[K[32;111H109,6-20      84%[26;20H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H110,6-20      85%[26;20H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mrm[m [35m$paths_folder[m[38;5;130m"[m[31m/triplet_count_[m[38;5;130m"[m*[32;111H[K[32;111H111,0-1[7C86%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H112,21-35     87%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[34m# Creating a triplet occurence matrix[m[32;111H[K[32;111H113,0-1[7C88%[26;1H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;17Hgawk [38;5;130m-F[m [38;5;130m$'[m[35m\t[m[38;5;130m'[m [38;5;130m'[m[31m{ matrix[$1][$2][$3]+=$4; } END{for (x in matrix) {for (y in matrix[x]) {for (path in matrix[x][yy[31;1H]) {print x, y, path, matrix[x][y][path]}}}}[m[38;5;130m'[m [35m$paths_folder[m[38;5;130m"[m[31m/triplet_count[m[38;5;130m"[m [38;5;130m>[m [35m$paths_folder[m[38;5;130m"[m[31m/final_count[m[38;5;130m"[m[32;111H[K[32;111H114,21-35     89%[25;35H[?25h[?25l[32;113H5,0-1  [26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H116,21-35     90%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mrm[m [35m$paths_folder[m[38;5;130m"[m[31m/triplet_count[m[38;5;130m"[m[32;111H[K[32;111H117,0-1[7C91%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H118,21-35     92%[26;35H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;17Hpython3 path_terms_indexer.py [35m$paths_folder[m [35m$paths_folder[m[38;5;130m"[m[31m/final_count[m[38;5;130m"[m [35m$prefix[m [31m3[m[38;5;130m;[m[32;111H[K[32;111H119,21-35     94%[25;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mrm[m [35m$paths_folder[m[38;5;130m"[m[31m/final_count[m[38;5;130m"[m[32;111H[K[32;111H120,0-1[7C95%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mdone[m[32;111H[K[32;111H121,21-35     96%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H122,0-1[7C97%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdone[m[32;111H[K[32;111H123,21-35     98%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H124,0-1[7C99%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mrm[m [35m$corpus[m[38;5;130m"[m[31m_split_[m[38;5;130m"[m*[32;111H[K[32;111H125,21-35     Bot[26;35H[?25h[?25l[32;113H6,5-12 [27;12H[?25h[?25l[32;113H7,0-1 [28;1H[?25h[?25l[32;113H8,4  [29;4H[?25h[?25l[32;113H9,0-1[30;1H[?25h[?25l[32;112H30,20 [31;20H[?25h[?25l[32;101H^[[31;20H[32;101H  [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H~@k[31;20H[32;101H   [31;20H[?25h[?25l[32;101H:[31;20H[32;101H[K[32;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[32;1H[K[32;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi run.sh [15@path_terms_indexer.py[C
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"path_terms_indexer.py" 107L, 3647C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;5Houtput_parsed.close()

[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[5;5Hword_occurence_map = {}[7;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m inp:[8;9H[38;5;130mfor[m line [38;5;130min[m inp:[9;13Hx, y, path, count = line.strip().split([31m' '[m)[11;13Hkey = [36mstr[m(x) + [31m'_'[m + [36mstr[m(y)[12;13Hcurrent = path + [31m":"[m + count[14;13H[38;5;130mif[m key [38;5;130min[m word_occurence_map:[15;17Hpastkeys = word_occurence_map[key][16;17Hcurrent =  pastkeys + [31m','[m + current[17;13Hword_occurence_map[key] = current[20;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[21;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)


paths_folder = sys.argv[[31m1[m]
[36mfile[m = sys.argv[[31m2[m]
prefix = sys.argv[[31m3[m]
mode = sys.argv[[31m4[m]
[38;5;130mif[m mode==[31m"1"[m:
    indexPathTerm([36mfile[m)
[38;5;130melif[m mode==[31m"2"[m:
    getTripletIDFromDB([36mfile[m)[32;111H88,1[10C94%[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [15;1H[32;112H7[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;112H6[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;1H[32;112H5,0-1[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [12;1H[32;112H4,1  [12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [11;1H[32;112H3[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [10;1H[32;112H2,0-1[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [9;1H[32;112H1,1  [9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [8;1H[32;112H0[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [7;1H[32;111H79[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [6;1H[32;112H8,0-1[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;1H[K[32;111H77,1[10C93%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H76,0-1[8C92%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H75,1[10C90%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H74,0-1[8C89%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H73,1[10C88%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H72,0-1[8C86%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[36mprint[m (e, x, y)[32;111H[K[32;111H71,1[10C85%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H70,1[10C84%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H69,1[10C82%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mtry[m:[32;111H[K[32;111H68,1[10C81%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H67,1[10C80%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H66,1[10C78%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H65,1[10C77%[6;1H[?25h[?25l[32;112H6[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [8;1H[32;112H7[8;1H[?25h[?25l[32;112H8[9;1H[?25h[?25l[32;112H9[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [11;1H[32;111H70[11;1H[?25h[?25l[32;112H1[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [13;1H[32;112H2,0-1[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [14;1H[32;112H3,1  [14;1H[?25h[?25l[32;112H4,0-1[15;1H[?25h[?25l[32;112H5,1  [16;1H[?25h[?25l[32;112H6,0-1[17;1H[?25h[?25l[32;112H7,1  [18;1H[?25h[?25l[32;112H8,0-1[19;1H[?25h[?25l[32;112H9,1  [20;1H[?25h[?25l[32;111H80[21;1H[?25h[?25l[32;112H1[22;1H[?25h[?25l[32;112H2,0-1[23;1H[?25h[?25l[32;112H3,1  [24;1H[?25h[?25l[32;112H4[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [26;1H[32;112H5,0-1[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H86,1[10C78%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H87,1[10C80%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H88,1[10C81%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H89,1[10C82%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H90,0-1[8C84%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hpaths_folder = sys.argv[[31m1[m][32;111H[K[32;111H91,1[10C85%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[36mfile[m = sys.argv[[31m2[m][32;111H[K[32;111H92,1[10C86%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hprefix = sys.argv[[31m3[m][32;111H[K[32;111H93,1[10C88%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hmode = sys.argv[[31m4[m][32;111H[K[32;111H94,0-1[8C89%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mif[m mode==[31m"1"[m:[32;111H[K[32;111H95,0-1[8C90%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexPathTerm([36mfile[m)[32;111H[K[32;111H96,1[10C92%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"2"[m:[32;111H[K[32;111H97,1[10C93%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HgetTripletIDFromDB([36mfile[m)[32;111H[K[32;111H98,1[10C94%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"3"[m:[32;111H[K[32;111H99,1[10C96%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexWordPairs([36mfile[m)[32;111H[K[32;111H100,1[9C97%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H101,1[9C98%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H102,1[9CBot[26;1H[?25h[?25l[32;113H3[27;1H[?25h[?25l[32;113H4[28;1H[?25h[?25l[32;113H5[29;1H[?25h[?25l[32;113H6,0-1[30;1H[?25h[?25l[32;113H7,1  [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [30;1H[32;113H6,0-1[30;1H[?25h[?25l[32;113H5,1  [29;1H[?25h[?25l[32;113H4[28;1H[?25h[?25l[32;113H3[27;1H[?25h[?25l[32;113H2[26;1H[?25h[?25l[32;113H1[25;1H[?25h[?25l[32;113H0[24;1H[?25h[?25l[32;111H99,1 [23;1H[?25h[?25l[32;112H8[22;1H[?25h[?25l[32;112H7[21;1H[?25h[?25l[32;112H6[20;1H[?25h[?25l[32;112H5,0-1[19;1H[?25h[?25l[32;112H4[18;1H[?25h[?25l[32;112H3,1  [17;1H[?25h[?25l[32;112H2[16;1H[?25h[?25l[32;112H1[15;1H[?25h[?25l[32;112H0,0-1[14;1H[?25h[?25l[32;111H89,1  [13;1H[?25h[?25l[32;112H8[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [11;1H[32;112H7[11;1H[?25h[?25l[32;112H6[10;1H[?25h[?25l[32;112H5,0-1[9;1H[?25h[?25l[32;112H4,1  [8;1H[?25h[?25l[32;112H3[7;1H[?25h[?25l[32;112H2,0-1[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H81,1[10C98%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H80,1[10C97%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H79,1[10C96%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Houtput_parsed.close()[32;111H[K[32;111H78,0-1[8C94%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H77,1[10C93%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H76,0-1[8C92%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H75,1[10C90%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H74,0-1[8C89%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H73,1[10C88%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H72,0-1[8C86%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[36mprint[m (e, x, y)[32;111H[K[32;111H71,1[10C85%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H70,1[10C84%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H69,1[10C82%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mtry[m:[32;111H[K[32;111H68,1[10C81%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H67,1[10C80%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H66,1[10C78%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H65,1[10C77%[6;1H[?25h[?25l[32;101H^[[6;1H[32;103HO[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H64,1[10C76%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130melse[m:[32;111H[K[32;111H63,1[10C75%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;21H[38;5;130mraise[m[32;111H[K[32;111H62,1[10C73%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H61,1[10C72%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mexcept[m:[32;111H[K[32;111H60,0-1[8C71%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H59,1[10C69%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C68%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H57,1[10C67%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H56,1[10C65%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H55,1[10C64%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H54,1[10C63%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H53,1[10C61%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H52,1[10C60%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H51,1[10C59%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H50,1[10C57%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H49,0-1[8C56%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H48,1[10C55%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H47,1[10C53%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H46,1[10C52%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H45,1[10C51%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H44,0-1[8C50%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,1[10C48%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H42,1[10C47%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H41,0-1[8C46%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H40,1[10C44%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H39,0-1[8C43%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H38,0-1[8C42%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H37,1[10C40%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hid_to_word_dict = {i:words[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H36,1[10C39%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = {words[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H35,0-1[8C38%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H34,1[10C36%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hwords = [processTerm(term) [38;5;130mfor[m term [38;5;130min[m terms][32;111H[K[32;111H33,1[10C35%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(words_file, [31m"r"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m terms:[32;111H[K[32;111H32,0-1[8C34%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H31,1[10C32%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_path_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H30,1[10C31%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_path_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H29,1[10C30%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H28,1[10C28%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(path_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H27,1[10C27%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H26,0-1[8C26%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H25,1[10C25%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hid_to_path_dict = {i:filtered_paths[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H24,1[10C23%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = {filtered_paths[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H23,0-1[8C22%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H22,1[10C21%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H21,1[10C19%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [36mlist[m([36mset[m(filtered_paths))[32;111H[K[32;111H20,0-1[8C18%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hfiltered_paths.append(path.strip())[32;111H[K[32;111H19,1[10C17%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m path [38;5;130min[m paths:[32;111H[K[32;111H18,1[10C15%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [][32;111H[K[32;111H17,0-1[8C14%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H16,0-1[8C13%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/filtered_paths"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m paths:[32;111H[K[32;111H15,1[10C11%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H14,1[10C10%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexPathTerm[m(words_file):[32;111H[K[32;111H13,1[11C9%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H12,1[11C7%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m term.strip()[32;111H[K[32;111H11,1[11C6%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hterm = term.encode([31m"ascii"[m, [31m"ignore"[m)[32;111H[K[32;111H10,1[11C5%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hterm = [31m" "[m.join(re.sub([31m"[^A-Za-z0-9 ]+"[m, [31m" "[m, term).strip().split())[32;111H[K[32;111H9,0-1[10C3%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mprocessTerm[m(term):[32;111H[K[32;111H8,1[12C2%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H7,0-1[10C1%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[35mimport[m sys, re, pickle[32;111H[K[32;111H6,1[11CTop[6;1H[?25h[?25l[32;111H5[5;1H[?25h[?25l[32;111H4[4;1H[?25h[?25l[32;101H~@k[4;1H[32;101H   [3;1H[32;111H3[3;1H[?25h[?25l[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [1;1H[32;111H1,1  [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [2;1H[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [3;1H[32;111H3,1  [3;1H[?25h[?25l[32;111H4[4;1H[?25h[?25l[32;101H~@k[4;1H[32;101H   [5;1H[32;111H5[5;1H[?25h[?25l[32;111H6[6;1H[?25h[?25l[32;111H7,0-1[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [8;1H[32;111H8,1  [8;1H[?25h[?25l[32;111H9,0-1[9;1H[?25h[?25l[32;111H10,1 [10;1H[?25h[?25l[32;112H1[11;1H[?25h[?25l[32;112H2[12;1H[?25h[?25l[32;112H3[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [14;1H[32;112H4[14;1H[?25h[?25l[32;112H5[15;1H[?25h[?25l[32;112H6,0-1[16;1H[?25h[?25l[32;112H7[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [18;1H[32;112H8,1  [18;1H[?25h[?25l[32;112H9[19;1H[?25h[?25l[32;111H20,0-1[20;1H[?25h[?25l[32;112H1,1  [21;1H[?25h[?25l[32;112H2[22;1H[?25h[?25l[32;112H3,0-1[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [24;1H[32;112H4,1  [24;1H[?25h[?25l[32;112H5[25;1H[?25h[?25l[32;112H6,0-1[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H27,1[11C1%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H28,1[11C2%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H29,1[11C3%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H30,1[11C5%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H31,1[11C6%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H32,0-1[9C7%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H33,1[11C9%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H34,1[10C10%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H35,0-1[8C11%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H36,1[10C13%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H37,1[10C14%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H38,0-1[8C15%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H39,0-1[8C17%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H40,1[10C18%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H41,0-1[8C19%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H42,1[10C21%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H43,1[10C22%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H44,0-1[8C23%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H45,1[10C25%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H46,1[10C26%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H47,1[10C27%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mtry[m:[32;111H[K[32;111H48,1[10C28%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H49,0-1[8C30%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mexcept[m:[32;111H[K[32;111H50,1[10C31%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H51,1[10C32%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;21H[38;5;130mraise[m[32;111H[K[32;111H52,1[10C34%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130melse[m:[32;111H[K[32;111H53,1[10C35%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H54,1[10C36%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H55,1[10C38%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H56,1[10C39%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H57,1[10C40%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C42%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H59,1[10C43%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H60,0-1[8C44%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[36mprint[m (e, x, y)[32;111H[K[32;111H61,1[10C46%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H62,1[10C47%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H63,1[10C48%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H64,1[10C50%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H65,1[10C51%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H66,1[10C52%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H67,1[10C53%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Houtput_parsed.close()[32;111H[K[32;111H68,1[10C55%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H69,1[10C56%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H70,1[10C57%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H71,1[10C59%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Hword_occurence_map = {}[32;111H[K[32;111H72,0-1[8C60%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [25;1H[32;112H1,1  [25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [24;1H[32;112H0[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;1H[32;111H69[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [22;1H[32;112H8[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [21;1H[32;112H7[21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [20;1H[32;112H6[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [19;1H[32;112H5[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [18;1H[32;112H4[18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [17;1H[32;112H3[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [16;1H[32;112H2[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [15;1H[32;112H1[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;112H0,0-1[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;1H[32;111H59,1  [13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [12;1H[32;112H8[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [11;1H[32;112H7[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [10;1H[32;112H6[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [9;1H[32;112H5[9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [8;1H[32;112H4[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [7;1H[32;112H3[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [6;1H[32;112H2[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H51,1[10C59%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H50,1[10C57%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H49,0-1[8C56%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H48,1[10C55%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H47,1[10C53%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H46,1[10C52%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H45,1[10C51%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H44,0-1[8C50%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,1[10C48%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H42,1[10C47%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H41,0-1[8C46%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H40,1[10C44%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H39,0-1[8C43%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H38,0-1[8C42%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H37,1[10C40%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hid_to_word_dict = {i:words[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H36,1[10C39%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = {words[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H35,0-1[8C38%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H34,1[10C36%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hwords = [processTerm(term) [38;5;130mfor[m term [38;5;130min[m terms][32;111H[K[32;111H33,1[10C35%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(words_file, [31m"r"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m terms:[32;111H[K[32;111H32,0-1[8C34%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H31,1[10C32%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_path_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H30,1[10C31%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_path_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H29,1[10C30%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H28,1[10C28%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(path_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H27,1[10C27%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H26,0-1[8C26%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H25,1[10C25%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hid_to_path_dict = {i:filtered_paths[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H24,1[10C23%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = {filtered_paths[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H23,0-1[8C22%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H22,1[10C21%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H21,1[10C19%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [36mlist[m([36mset[m(filtered_paths))[32;111H[K[32;111H20,0-1[8C18%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hfiltered_paths.append(path.strip())[32;111H[K[32;111H19,1[10C17%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m path [38;5;130min[m paths:[32;111H[K[32;111H18,1[10C15%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [7;1H[32;112H9[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [8;1H[32;111H20,0-1[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [9;1H[32;112H1,1  [9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [10;1H[32;112H2[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [11;1H[32;112H3,0-1[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [12;1H[32;112H4,1  [12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [13;1H[32;112H5[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [14;1H[32;112H6,0-1[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [15;1H[32;112H7,1  [15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [16;1H[32;112H8[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [17;1H[32;112H9[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [18;1H[32;111H30[18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [19;1H[32;112H1[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [20;1H[32;112H2,0-1[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [21;1H[32;112H3,1  [21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [22;1H[32;112H4[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [23;1H[32;112H5,0-1[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [24;1H[32;112H6,1  [24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [25;1H[32;112H7[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [26;1H[32;112H8,0-1[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H39,0-1[8C17%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H40,1[10C18%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H41,0-1[8C19%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H42,1[10C21%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H43,1[10C22%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H44,0-1[8C23%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H45,1[10C25%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H46,1[10C26%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H47,1[10C27%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[38;5;130mtry[m:[32;111H[K[32;111H48,1[10C28%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H49,0-1[8C30%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[38;5;130mexcept[m:[32;111H[K[32;111H50,1[10C31%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H51,1[10C32%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;21H[38;5;130mraise[m[32;111H[K[32;111H52,1[10C34%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130melse[m:[32;111H[K[32;111H53,1[10C35%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H54,1[10C36%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H55,1[10C38%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H56,1[10C39%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H57,1[10C40%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C42%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H59,1[10C43%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H60,0-1[8C44%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[36mprint[m (e, x, y)[32;111H[K[32;111H61,1[10C46%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H62,1[10C47%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H63,1[10C48%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H64,1[10C50%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H65,1[10C51%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H66,1[10C52%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H67,1[10C53%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Houtput_parsed.close()[32;111H[K[32;111H68,1[10C55%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H69,1[10C56%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H70,1[10C57%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H71,1[10C59%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Hword_occurence_map = {}[32;111H[K[32;111H72,0-1[8C60%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H73,1[10C61%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m inp:[32;111H[K[32;111H74,0-1[8C63%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m inp:[32;111H[K[32;111H75,1[10C64%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hx, y, path, count = line.strip().split([31m' '[m)[32;111H[K[32;111H76,0-1[8C65%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H77,1[10C67%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hkey = [36mstr[m(x) + [31m'_'[m + [36mstr[m(y)[32;111H[K[32;111H78,0-1[8C68%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hcurrent = path + [31m":"[m + count[32;111H[K[32;111H79,1[10C69%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H80,1[10C71%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m key [38;5;130min[m word_occurence_map:[32;111H[K[32;111H81,1[10C72%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hpastkeys = word_occurence_map[key][32;111H[K[32;111H82,0-1[8C73%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hcurrent =  pastkeys + [31m','[m + current[32;111H[K[32;111H83,1[10C75%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hword_occurence_map[key] = current[32;111H[K[32;111H84,1[10C76%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H85,0-1[8C77%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H86,1[10C78%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H87,1[10C80%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H88,1[10C81%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H89,1[10C82%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H90,0-1[8C84%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hpaths_folder = sys.argv[[31m1[m][32;111H[K[32;111H91,1[10C85%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[36mfile[m = sys.argv[[31m2[m][32;111H[K[32;111H92,1[10C86%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hprefix = sys.argv[[31m3[m][32;111H[K[32;111H93,1[10C88%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hmode = sys.argv[[31m4[m][32;111H[K[32;111H94,0-1[8C89%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mif[m mode==[31m"1"[m:[32;111H[K[32;111H95,0-1[8C90%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexPathTerm([36mfile[m)[32;111H[K[32;111H96,1[10C92%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"2"[m:[32;111H[K[32;111H97,1[10C93%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HgetTripletIDFromDB([36mfile[m)[32;111H[K[32;111H98,1[10C94%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"3"[m:[32;111H[K[32;111H99,1[10C96%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexWordPairs([36mfile[m)[32;111H[K[32;111H100,1[9C97%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H101,1[9C98%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H102,1[9CBot[26;1H[?25h[?25l[32;113H3[27;1H[?25h[?25l[32;113H4[28;1H[?25h[?25l[32;113H5[29;1H[?25h[?25l[32;101H~@k[29;1H[32;101H   [30;1H[32;113H6,0-1[30;1H[?25h[?25l[32;113H7,1  [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [30;1H[32;113H6,0-1[30;1H[?25h[?25l[32;101H~@k[30;1H[32;101H   [29;1H[32;113H5,1  [29;1H[?25h[?25l[32;101H~@k[29;1H[32;101H   [28;1H[32;113H4[28;1H[?25h[?25l[32;101H~@k[28;1H[32;101H   [27;1H[32;113H3[27;1H[?25h[?25l[32;101H~@k[27;1H[32;101H   [26;1H[32;113H2[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [25;1H[32;113H1[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [24;1H[32;113H0[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;1H[32;111H99,1 [23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [22;1H[32;112H8[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [21;1H[32;112H7[21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [20;1H[32;112H6[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [19;1H[32;112H5,0-1[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [18;1H[32;112H4[18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [17;1H[32;112H3,1  [17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [16;1H[32;112H2[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [15;1H[32;112H1[15;1H[?25h[?25l[32;101H:[15;1H[32;101H[K[32;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[32;1H[K[32;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi run.sh [K[K[K[K[K[K[Kpath_terms_indexer.py 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"path_terms_indexer.py" 107L, 3647C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[2;5Hword_occurence_map = {}[4;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m inp:[5;9H[38;5;130mfor[m line [38;5;130min[m inp:[6;13Hx, y, path, count = line.strip().split([31m' '[m)[8;13Hkey = [36mstr[m(x) + [31m'_'[m + [36mstr[m(y)[9;13Hcurrent = path + [31m":"[m + count[11;13H[38;5;130mif[m key [38;5;130min[m word_occurence_map:[12;17Hpastkeys = word_occurence_map[key][13;17Hcurrent =  pastkeys + [31m','[m + current[14;13Hword_occurence_map[key] = current[17;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[18;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)


paths_folder = sys.argv[[31m1[m]
[36mfile[m = sys.argv[[31m2[m]
prefix = sys.argv[[31m3[m]
mode = sys.argv[[31m4[m]
[38;5;130mif[m mode==[31m"1"[m:
    indexPathTerm([36mfile[m)
[38;5;130melif[m mode==[31m"2"[m:
    getTripletIDFromDB([36mfile[m)
[38;5;130melif[m mode==[31m"3"[m:
    indexWordPairs([36mfile[m)[32;111H91,1[10C98%[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [15;1H[32;112H0,0-1[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;111H89,1  [14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;1H[32;112H8[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [12;1H[32;112H7[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [11;1H[32;112H6[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [10;1H[32;112H5,0-1[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [9;1H[32;112H4,1  [9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [8;1H[32;112H3[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [7;1H[32;112H2,0-1[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [6;1H[32;112H1,1  [6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;1H[K[32;111H80,1[10C97%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H79,1[10C96%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Houtput_parsed.close()[32;111H[K[32;111H78,0-1[8C94%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H77,1[10C93%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H76,0-1[8C92%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H75,1[10C90%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H74,0-1[8C89%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H73,1[10C88%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H72,0-1[8C86%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[36mprint[m (e, x, y)[32;111H[K[32;111H71,1[10C85%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H70,1[10C84%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H69,1[10C82%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mtry[m:[32;111H[K[32;111H68,1[10C81%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H67,1[10C80%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H66,1[10C78%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H65,1[10C77%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H64,1[10C76%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130melse[m:[32;111H[K[32;111H63,1[10C75%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;21H[38;5;130mraise[m[32;111H[K[32;111H62,1[10C73%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H61,1[10C72%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mexcept[m:[32;111H[K[32;111H60,0-1[8C71%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H59,1[10C69%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C68%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H57,1[10C67%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H56,1[10C65%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H55,1[10C64%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H54,1[10C63%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H53,1[10C61%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H52,1[10C60%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H51,1[10C59%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H50,1[10C57%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H49,0-1[8C56%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H48,1[10C55%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H47,1[10C53%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H46,1[10C52%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H45,1[10C51%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H44,0-1[8C50%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,1[10C48%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H42,1[10C47%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H41,0-1[8C46%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H40,1[10C44%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H39,0-1[8C43%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H38,0-1[8C42%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H37,1[10C40%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hid_to_word_dict = {i:words[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H36,1[10C39%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = {words[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H35,0-1[8C38%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H34,1[10C36%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hwords = [processTerm(term) [38;5;130mfor[m term [38;5;130min[m terms][32;111H[K[32;111H33,1[10C35%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(words_file, [31m"r"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m terms:[32;111H[K[32;111H32,0-1[8C34%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H31,1[10C32%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_path_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H30,1[10C31%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_path_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H29,1[10C30%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H28,1[10C28%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(path_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H27,1[10C27%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H26,0-1[8C26%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H25,1[10C25%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hid_to_path_dict = {i:filtered_paths[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H24,1[10C23%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = {filtered_paths[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H23,0-1[8C22%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H22,1[10C21%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H21,1[10C19%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [36mlist[m([36mset[m(filtered_paths))[32;111H[K[32;111H20,0-1[8C18%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hfiltered_paths.append(path.strip())[32;111H[K[32;111H19,1[10C17%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m path [38;5;130min[m paths:[32;111H[K[32;111H18,1[10C15%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [][32;111H[K[32;111H17,0-1[8C14%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H16,0-1[8C13%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/filtered_paths"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m paths:[32;111H[K[32;111H15,1[10C11%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H14,1[10C10%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexPathTerm[m(words_file):[32;111H[K[32;111H13,1[11C9%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H12,1[11C7%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m term.strip()[32;111H[K[32;111H11,1[11C6%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hterm = term.encode([31m"ascii"[m, [31m"ignore"[m)[32;111H[K[32;111H10,1[11C5%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hterm = [31m" "[m.join(re.sub([31m"[^A-Za-z0-9 ]+"[m, [31m" "[m, term).strip().split())[32;111H[K[32;111H9,0-1[10C3%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mprocessTerm[m(term):[32;111H[K[32;111H8,1[12C2%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H7,0-1[10C1%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[35mimport[m sys, re, pickle[32;111H[K[32;111H6,1[11CTop[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [5;1H[32;111H5[5;1H[?25h[?25l[32;111H4[4;1H[?25h[?25l[32;101H~@k[4;1H[32;101H   [3;1H[32;111H3[3;1H[?25h[?25l[32;101H~@k[3;1H[32;101H   [2;1H[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [1;1H[32;111H1,1  [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [3;1H[32;111H3,1  [3;1H[?25h[?25l[32;111H4[4;1H[?25h[?25l[32;111H5[5;1H[?25h[?25l[32;101H~@k[5;1H[32;101H   [6;1H[32;111H6[6;1H[?25h[?25l[32;111H7,0-1[7;1H[?25h[?25l[32;111H8,1  [8;1H[?25h[?25l[32;111H9,0-1[9;1H[?25h[?25l[32;111H10,1 [10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [11;1H[32;112H1[11;1H[?25h[?25l[32;112H2[12;1H[?25h[?25l[32;112H3[13;1H[?25h[?25l[32;112H4[14;1H[?25h[?25l[32;112H5[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [16;1H[32;112H6,0-1[16;1H[?25h[?25l[32;112H7[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [18;1H[32;112H8,1  [18;1H[?25h[?25l[32;112H9[19;1H[?25h[?25l[32;111H20,0-1[20;1H[?25h[?25l[32;112H1,1  [21;1H[?25h[?25l[32;112H2[22;1H[?25h[?25l[32;112H3,0-1[23;1H[?25h[?25l[32;112H4,1  [24;1H[?25h[?25l[32;112H5[25;1H[?25h[?25l[32;112H6,0-1[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H27,1[11C1%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H28,1[11C2%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H29,1[11C3%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H30,1[11C5%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H31,1[11C6%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H32,0-1[9C7%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H33,1[11C9%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H34,1[10C10%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H35,0-1[8C11%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H36,1[10C13%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H37,1[10C14%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H38,0-1[8C15%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H39,0-1[8C17%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H40,1[10C18%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H41,0-1[8C19%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H42,1[10C21%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H43,1[10C22%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H44,0-1[8C23%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H45,1[10C25%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H46,1[10C26%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H47,1[10C27%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mtry[m:[32;111H[K[32;111H48,1[10C28%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H49,0-1[8C30%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mexcept[m:[32;111H[K[32;111H50,1[10C31%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H51,1[10C32%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;21H[38;5;130mraise[m[32;111H[K[32;111H52,1[10C34%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130melse[m:[32;111H[K[32;111H53,1[10C35%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H54,1[10C36%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H55,1[10C38%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H56,1[10C39%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H57,1[10C40%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C42%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H59,1[10C43%[26;1H[?25h[?25l[32;101H^[[26;1H[32;103HO[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H60,0-1[8C44%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[36mprint[m (e, x, y)[32;111H[K[32;111H61,1[10C46%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H62,1[10C47%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H63,1[10C48%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H64,1[10C50%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H65,1[10C51%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H66,1[10C52%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H67,1[10C53%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Houtput_parsed.close()[32;111H[K[32;111H68,1[10C55%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H69,1[10C56%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H70,1[10C57%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H71,1[10C59%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hword_occurence_map = {}[32;111H[K[32;111H72,0-1[8C60%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H73,1[10C61%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m inp:[32;111H[K[32;111H74,0-1[8C63%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m inp:[32;111H[K[32;111H75,1[10C64%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hx, y, path, count = line.strip().split([31m' '[m)[32;111H[K[32;111H76,0-1[8C65%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H77,1[10C67%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hkey = [36mstr[m(x) + [31m'_'[m + [36mstr[m(y)[32;111H[K[32;111H78,0-1[8C68%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hcurrent = path + [31m":"[m + count[32;111H[K[32;111H79,1[10C69%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H80,1[10C71%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m key [38;5;130min[m word_occurence_map:[32;111H[K[32;111H81,1[10C72%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hpastkeys = word_occurence_map[key][32;111H[K[32;111H82,0-1[8C73%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hcurrent =  pastkeys + [31m','[m + current[32;111H[K[32;111H83,1[10C75%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hword_occurence_map[key] = current[32;111H[K[32;111H84,1[10C76%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H85,0-1[8C77%[26;1H[?25h[?25l[32;101H^[[26;1H[32;101H  [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H86,1[10C78%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H87,1[10C80%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H88,1[10C81%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H89,1[10C82%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H90,0-1[8C84%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hpaths_folder = sys.argv[[31m1[m][32;111H[K[32;111H91,1[10C85%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[36mfile[m = sys.argv[[31m2[m][32;111H[K[32;111H92,1[10C86%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hprefix = sys.argv[[31m3[m][32;111H[K[32;111H93,1[10C88%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hmode = sys.argv[[31m4[m][32;111H[K[32;111H94,0-1[8C89%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mif[m mode==[31m"1"[m:[32;111H[K[32;111H95,0-1[8C90%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexPathTerm([36mfile[m)[32;111H[K[32;111H96,1[10C92%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"2"[m:[32;111H[K[32;111H97,1[10C93%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HgetTripletIDFromDB([36mfile[m)[32;111H[K[32;111H98,1[10C94%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"3"[m:[32;111H[K[32;111H99,1[10C96%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexWordPairs([36mfile[m)[32;111H[K[32;111H100,1[9C97%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H101,1[9C98%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H102,1[9CBot[26;1H[?25h[?25l[32;113H3[27;1H[?25h[?25l[32;113H4[28;1H[?25h[?25l[32;113H5[29;1H[?25h[?25l[32;113H6,0-1[30;1H[?25h[?25l[32;113H7,1  [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [30;1H[32;113H6,0-1[30;1H[?25h[?25l[32;101H~@k[30;1H[32;101H   [29;1H[32;113H5,1  [29;1H[?25h[?25l[32;101H~@k[29;1H[32;101H   [28;1H[32;113H4[28;1H[?25h[?25l[32;101H~@k[28;1H[32;101H   [27;1H[32;113H3[27;1H[?25h[?25l[32;101H~@k[27;1H[32;101H   [26;1H[32;113H2[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [25;1H[32;113H1[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [24;1H[32;113H0[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;1H[32;111H99,1 [23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [22;1H[32;112H8[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [21;1H[32;112H7[21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [20;1H[32;112H6[20;1H[?25h[?25l[32;112H5,0-1[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [18;1H[32;112H4[18;1H[?25h[?25l[32;112H3,1  [17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [16;1H[32;112H2[16;1H[?25h[?25l[32;112H1[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;112H0,0-1[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;1H[32;111H89,1  [13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [12;1H[32;112H8[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [11;1H[32;112H7[11;1H[?25h[?25l[32;112H6[10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [9;1H[32;112H5,0-1[9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [8;1H[32;112H4,1  [8;1H[?25h[?25l[32;112H3[7;1H[?25h[?25l[32;112H2,0-1[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H81,1[10C98%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H80,1[10C97%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H79,1[10C96%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Houtput_parsed.close()[32;111H[K[32;111H78,0-1[8C94%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H77,1[10C93%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H76,0-1[8C92%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H75,1[10C90%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H74,0-1[8C89%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H73,1[10C88%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H72,0-1[8C86%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[36mprint[m (e, x, y)[32;111H[K[32;111H71,1[10C85%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [7;1H[32;112H2,0-1[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [8;1H[32;112H3,1  [8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [9;1H[32;112H4,0-1[9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [10;1H[32;112H5,1  [10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [11;1H[32;112H6,0-1[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [12;1H[32;112H7,1  [12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [13;1H[32;112H8,0-1[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [14;1H[32;112H9,1  [14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [15;1H[32;111H80[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [16;1H[32;112H1[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [17;1H[32;112H2,0-1[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [18;1H[32;112H3,1  [18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [19;1H[32;112H4[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [20;1H[32;112H5,0-1[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [21;1H[32;112H6,1  [21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [22;1H[32;112H7[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [23;1H[32;112H8[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [24;1H[32;112H9[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [25;1H[32;111H90,0-1[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [26;1H[32;112H1,1  [26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[36mfile[m = sys.argv[[31m2[m][32;111H[K[32;111H92,1[10C86%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1Hprefix = sys.argv[[31m3[m][32;111H[K[32;111H93,1[10C88%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1Hmode = sys.argv[[31m4[m][32;111H[K[32;111H94,0-1[8C89%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130mif[m mode==[31m"1"[m:[32;111H[K[32;111H95,0-1[8C90%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5HindexPathTerm([36mfile[m)[32;111H[K[32;111H96,1[10C92%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"2"[m:[32;111H[K[32;111H97,1[10C93%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5HgetTripletIDFromDB([36mfile[m)[32;111H[K[32;111H98,1[10C94%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"3"[m:[32;111H[K[32;111H99,1[10C96%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5HindexWordPairs([36mfile[m)[32;111H[K[32;111H100,1[9C97%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H101,1[9C98%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H102,1[9CBot[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [27;1H[32;113H3[27;1H[?25h[?25l[32;101H~@k[27;1H[32;101H   [26;1H[32;113H2[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [25;1H[32;113H1[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [24;1H[32;113H0[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;1H[32;111H99,1 [23;1H[?25h[?25l[32;112H8[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [21;1H[32;112H7[21;1H[?25h[?25l[32;112H6[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [19;1H[32;112H5,0-1[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [18;1H[32;112H4[18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [17;1H[32;112H3,1  [17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [16;1H[32;112H2[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [15;1H[32;112H1[15;1H[?25h[?25l[32;112H0,0-1[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;1H[32;111H89,1  [13;1H[?25h[?25l[32;112H8[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [11;1H[32;112H7[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [10;1H[32;112H6[10;1H[?25h[?25l[32;112H5,0-1[9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [8;1H[32;112H4,1  [8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [7;1H[32;112H3[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [6;1H[32;112H2,0-1[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H81,1[10C98%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H80,1[10C97%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H79,1[10C96%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Houtput_parsed.close()[32;111H[K[32;111H78,0-1[8C94%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H77,1[10C93%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H76,0-1[8C92%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H75,1[10C90%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H74,0-1[8C89%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H73,1[10C88%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H72,0-1[8C86%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[36mprint[m (e, x, y)[32;111H[K[32;111H71,1[10C85%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H70,1[10C84%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H69,1[10C82%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mtry[m:[32;111H[K[32;111H68,1[10C81%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H67,1[10C80%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H66,1[10C78%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H65,1[10C77%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H64,1[10C76%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130melse[m:[32;111H[K[32;111H63,1[10C75%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;21H[38;5;130mraise[m[32;111H[K[32;111H62,1[10C73%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H61,1[10C72%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mexcept[m:[32;111H[K[32;111H60,0-1[8C71%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H59,1[10C69%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C68%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H57,1[10C67%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H56,1[10C65%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H55,1[10C64%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H54,1[10C63%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H53,1[10C61%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H52,1[10C60%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H51,1[10C59%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H50,1[10C57%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H49,0-1[8C56%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H48,1[10C55%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H47,1[10C53%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H46,1[10C52%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H45,1[10C51%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H44,0-1[8C50%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,1[10C48%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H42,1[10C47%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H41,0-1[8C46%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H40,1[10C44%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H39,0-1[8C43%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H38,0-1[8C42%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H37,1[10C40%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hid_to_word_dict = {i:words[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H36,1[10C39%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [7;1H[32;112H7[7;1H[?25h[?25l[32;112H8,0-1[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [9;1H[32;112H9[9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [10;1H[32;111H40,1  [10;1H[?25h[?25l[32;112H1,0-1[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [12;1H[32;112H2,1  [12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [13;1H[32;112H3[13;1H[?25h[?25l[32;112H4,0-1[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [15;1H[32;112H5,1  [15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [16;1H[32;112H6[16;1H[?25h[?25l[32;112H7[17;1H[?25h[?25l[32;112H8[18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [19;1H[32;112H9,0-1[19;1H[?25h[?25l[32;111H50,1  [20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [21;1H[32;112H1[21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [22;1H[32;112H2[22;1H[?25h[?25l[32;101H~@k[22;1H[32;101H   [23;1H[32;112H3[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [24;1H[32;112H4[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [25;1H[32;112H5[25;1H[?25h[?25l[32;112H6[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H57,1[10C40%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C42%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H59,1[10C43%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H60,0-1[8C44%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[36mprint[m (e, x, y)[32;111H[K[32;111H61,1[10C46%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H62,1[10C47%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H63,1[10C48%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H64,1[10C50%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H65,1[10C51%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H66,1[10C52%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H67,1[10C53%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Houtput_parsed.close()[32;111H[K[32;111H68,1[10C55%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H69,1[10C56%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H70,1[10C57%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H71,1[10C59%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Hword_occurence_map = {}[32;111H[K[32;111H72,0-1[8C60%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H73,1[10C61%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m inp:[32;111H[K[32;111H74,0-1[8C63%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m inp:[32;111H[K[32;111H75,1[10C64%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hx, y, path, count = line.strip().split([31m' '[m)[32;111H[K[32;111H76,0-1[8C65%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H77,1[10C67%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hkey = [36mstr[m(x) + [31m'_'[m + [36mstr[m(y)[32;111H[K[32;111H78,0-1[8C68%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hcurrent = path + [31m":"[m + count[32;111H[K[32;111H79,1[10C69%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H80,1[10C71%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m key [38;5;130min[m word_occurence_map:[32;111H[K[32;111H81,1[10C72%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hpastkeys = word_occurence_map[key][32;111H[K[32;111H82,0-1[8C73%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17Hcurrent =  pastkeys + [31m','[m + current[32;111H[K[32;111H83,1[10C75%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hword_occurence_map[key] = current[32;111H[K[32;111H84,1[10C76%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H85,0-1[8C77%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H86,1[10C78%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H87,1[10C80%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H88,1[10C81%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H89,1[10C82%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H90,0-1[8C84%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1Hpaths_folder = sys.argv[[31m1[m][32;111H[K[32;111H91,1[10C85%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[36mfile[m = sys.argv[[31m2[m][32;111H[K[32;111H92,1[10C86%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1Hprefix = sys.argv[[31m3[m][32;111H[K[32;111H93,1[10C88%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hmode = sys.argv[[31m4[m][32;111H[K[32;111H94,0-1[8C89%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mif[m mode==[31m"1"[m:[32;111H[K[32;111H95,0-1[8C90%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5HindexPathTerm([36mfile[m)[32;111H[K[32;111H96,1[10C92%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [25;1H[32;112H5,0-1[25;1H[?25h[?25l[32;112H4[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;1H[32;112H3,1  [23;1H[?25h[?25l[32;112H2[22;1H[?25h[?25l[32;112H1[21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [20;1H[32;112H0,0-1[20;1H[?25h[?25l[32;111H89,1  [19;1H[?25h[?25l[32;112H8[18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [17;1H[32;112H7[17;1H[?25h[?25l[32;112H6[16;1H[?25h[?25l[32;112H5,0-1[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;112H4,1  [14;1H[?25h[?25l[32;112H3[13;1H[?25h[?25l[32;112H2,0-1[12;1H[?25h[?25l[32;101H~@k[12;1H[32;101H   [11;1H[32;112H1,1  [11;1H[?25h[?25l[32;112H0[10;1H[?25h[?25l[32;111H79[9;1H[?25h[?25l[32;112H8,0-1[8;1H[?25h[?25l[32;112H7,1  [7;1H[?25h[?25l[32;112H6,0-1[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H75,1[10C90%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H74,0-1[8C89%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H73,1[10C88%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H72,0-1[8C86%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[36mprint[m (e, x, y)[32;111H[K[32;111H71,1[10C85%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H70,1[10C84%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H69,1[10C82%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mtry[m:[32;111H[K[32;111H68,1[10C81%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H67,1[10C80%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H66,1[10C78%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H65,1[10C77%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;17H[38;5;130mcontinue[m[32;111H[K[32;111H64,1[10C76%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130melse[m:[32;111H[K[32;111H63,1[10C75%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;21H[38;5;130mraise[m[32;111H[K[32;111H62,1[10C73%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H61,1[10C72%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mexcept[m:[32;111H[K[32;111H60,0-1[8C71%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H59,1[10C69%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;17H[38;5;130mtry[m:[32;111H[K[32;111H58,1[10C68%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H57,1[10C67%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H56,1[10C65%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H55,1[10C64%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H54,1[10C63%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H53,1[10C61%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H52,1[10C60%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H51,1[10C59%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H50,1[10C57%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H49,0-1[8C56%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H48,1[10C55%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H47,1[10C53%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H46,1[10C52%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H45,1[10C51%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H44,0-1[8C50%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,1[10C48%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H42,1[10C47%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H41,0-1[8C46%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H40,1[10C44%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H39,0-1[8C43%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H38,0-1[8C42%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H37,1[10C40%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hid_to_word_dict = {i:words[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H36,1[10C39%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hword_to_id_dict = {words[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(words))}[32;111H[K[32;111H35,0-1[8C38%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H34,1[10C36%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hwords = [processTerm(term) [38;5;130mfor[m term [38;5;130min[m terms][32;111H[K[32;111H33,1[10C35%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(words_file, [31m"r"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m terms:[32;111H[K[32;111H32,0-1[8C34%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H31,1[10C32%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(id_to_path_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H30,1[10C31%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_path_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H29,1[10C30%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H28,1[10C28%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(path_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H27,1[10C27%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H26,0-1[8C26%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H25,1[10C25%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hid_to_path_dict = {i:filtered_paths[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H24,1[10C23%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = {filtered_paths[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H23,0-1[8C22%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H22,1[10C21%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H21,1[10C19%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [36mlist[m([36mset[m(filtered_paths))[32;111H[K[32;111H20,0-1[8C18%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hfiltered_paths.append(path.strip())[32;111H[K[32;111H19,1[10C17%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m path [38;5;130min[m paths:[32;111H[K[32;111H18,1[10C15%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [][32;111H[K[32;111H17,0-1[8C14%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H16,0-1[8C13%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/filtered_paths"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m paths:[32;111H[K[32;111H15,1[10C11%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H14,1[10C10%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexPathTerm[m(words_file):[32;111H[K[32;111H13,1[11C9%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H12,1[11C7%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m term.strip()[32;111H[K[32;111H11,1[11C6%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hterm = term.encode([31m"ascii"[m, [31m"ignore"[m)[32;111H[K[32;111H10,1[11C5%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hterm = [31m" "[m.join(re.sub([31m"[^A-Za-z0-9 ]+"[m, [31m" "[m, term).strip().split())[32;111H[K[32;111H9,0-1[10C3%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mprocessTerm[m(term):[32;111H[K[32;111H8,1[12C2%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H7,0-1[10C1%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[35mimport[m sys, re, pickle[32;111H[K[32;111H6,1[11CTop[6;1H[?25h[?25l[32;111H5[5;1H[?25h[?25l[32;111H4[4;1H[?25h[?25l[32;111H3[3;1H[?25h[?25l[32;111H2,0-1[2;1H[?25h[?25l[32;111H1,1  [1;1H[?25h[?25l[32;101H^[[1;1H[32;103HO[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [1;1H[?25h[?25l[32;101H~@k[1;1H[32;101H   [2;1H[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [3;1H[32;111H3,1  [3;1H[?25h[?25l[32;101H~@k[3;1H[32;101H   [4;1H[32;111H4[4;1H[?25h[?25l[32;101H~@k[4;1H[32;101H   [5;1H[32;111H5[5;1H[?25h[?25l[32;101H~@k[5;1H[32;101H   [6;1H[32;111H6[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [7;1H[32;111H7,0-1[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [8;1H[32;111H8,1  [8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [9;1H[32;111H9,0-1[9;1H[?25h[?25l[32;101H~@k[9;1H[32;101H   [10;1H[32;111H10,1 [10;1H[?25h[?25l[32;101H~@k[10;1H[32;101H   [11;1H[32;112H1[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [12;1H[32;112H2[12;1H[?25h[?25l[32;112H3[13;1H[?25h[?25l[32;101H~@k[13;1H[32;101H   [14;1H[32;112H4[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [15;1H[32;112H5[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [16;1H[32;112H6,0-1[16;1H[?25h[?25l[32;101H~@k[16;1H[32;101H   [17;1H[32;112H7[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [18;1H[32;112H8,1  [18;1H[?25h[?25l[32;101H~@k[18;1H[32;101H   [19;1H[32;112H9[19;1H[?25h[?25l[32;101H~@k[19;1H[32;101H   [20;1H[32;111H20,0-1[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [21;1H[32;112H1,1  [21;1H[?25h[?25l[32;101H~@k[21;1H[32;101H   [22;1H[32;112H2[22;1H[?25h[?25l[32;112H3,0-1[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [24;1H[32;112H4,1  [24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [25;1H[32;112H5[25;1H[?25h[?25l[32;112H6,0-1[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H27,1[11C1%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H28,1[11C2%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H29,1[11C3%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H30,1[11C5%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H31,1[11C6%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H32,0-1[9C7%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H33,1[11C9%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H34,1[10C10%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H35,0-1[8C11%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H36,1[10C13%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H37,1[10C14%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H38,0-1[8C15%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H39,0-1[8C17%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H40,1[10C18%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H41,0-1[8C19%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H42,1[10C21%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H43,1[10C22%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H44,0-1[8C23%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H45,1[10C25%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H46,1[10C26%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H47,1[10C27%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mtry[m:[32;111H[K[32;111H48,1[10C28%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H49,0-1[8C30%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;17H[38;5;130mexcept[m:[32;111H[K[32;111H50,1[10C31%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [25;1H[32;111H49,0-1[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [24;1H[32;112H8,1  [24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;1H[32;112H7[23;1H[?25h[?25l[32;101H~@k[23;1H[32;101H   [23;2H[32;114H2[23;2H[?25h[?25l[32;101H~@k[23;2H[32;101H   [23;3H[32;114H3[23;3H[?25h[?25l[32;101H~@k[23;3H[32;101H   [23;4H[32;114H4[23;4H[?25h[?25l[32;101H~@k[23;4H[32;101H   [23;5H[32;114H5[23;5H[?25h[?25l[32;101H~@k[23;5H[32;101H   [23;6H[32;114H6[23;6H[?25h[?25l[32;101H~@k[23;6H[32;101H   [23;7H[32;114H7[23;7H[?25h[?25l[32;101H~@k[23;7H[32;101H   [23;8H[32;114H8[23;8H[?25h[?25l[32;101H~@k[23;8H[32;101H   [23;9H[32;114H9[23;9H[?25h[?25l[32;101H~@k[23;9H[32;101H   [23;10H[32;114H10[23;10H[?25h[?25l[32;101H~@k[23;10H[32;101H   [23;11H[32;115H1[23;11H[?25h[?25l[32;101H~@k[23;11H[32;101H   [23;12H[32;115H2[23;12H[?25h[?25l[32;101H~@k[23;12H[32;101H   [23;13H[32;115H3[23;13H[?25h[?25l[32;101H~@k[23;13H[32;101H   [24;13H[32;112H8[24;13H[?25h[?25l[32;101H~@k[24;13H[32;101H   [24;12H[32;115H2[24;12H[?25h[?25l[32;101H~@k[24;12H[32;101H   [24;11H[32;115H1[24;11H[?25h[?25l[32;101H~@k[24;11H[32;101H   [24;10H[32;115H0[24;10H[?25h[?25l[32;101H~@k[24;10H[32;101H   [24;9H[32;114H9 [24;9H[?25h[?25l[32;101H~@k[24;9H[32;101H   [24;8H[32;114H8[24;8H[?25h[?25l[32;101H~@k[24;8H[32;101H   [24;9H[32;114H9[24;9H[?25h[?25l[32;101H~@k[24;9H[32;101H   [23;9H[32;112H7[23;9H[?25h[?25l[32;101H~@k[23;9H[32;101H   [22;9H[32;112H6[22;9H[?25h[?25l[32;101H~@k[22;9H[32;101H   [21;9H[32;112H5[21;9H[?25h[?25l[32;101H~@k[21;9H[32;101H   [20;1H[32;112H4,0-1[20;1H[?25h[?25l[32;101H~@k[20;1H[32;101H   [19;9H[32;112H3,9  [19;9H[?25h[?25l[32;101H~@k[19;9H[32;101H   [18;9H[32;112H2[18;9H[?25h[?25l[32;101H~@k[18;9H[32;101H   [17;1H[32;112H1,0-1[17;1H[?25h[?25l[32;101H~@k[17;1H[32;101H   [16;9H[32;112H0,9  [16;9H[?25h[?25l[32;101H~@k[16;9H[32;101H   [15;1H[32;111H39,0-1[15;1H[?25h[?25l[32;101H~@k[15;1H[32;101H   [14;1H[32;112H8[14;1H[?25h[?25l[32;101H~@k[14;1H[32;101H   [13;9H[32;112H7,9  [13;9H[?25h[?25l[32;101H~@k[13;9H[32;101H   [12;9H[32;112H6[12;9H[?25h[?25l[32;101H~@k[12;9H[32;101H   [11;1H[32;112H5,0-1[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [10;9H[32;112H4,9  [10;9H[?25h[?25l[32;112H3[9;9H[?25h[?25l[32;101H~@k[9;9H[32;101H   [8;1H[32;112H2,0-1[8;1H[?25h[?25l[32;101H~@k[8;1H[32;101H   [7;9H[32;112H1,9  [7;9H[?25h[?25l[32;101H~@k[7;9H[32;101H   [6;9H[32;112H0[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_path_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H29,8[10C30%[6;8H[?25h[?25l[32;101H~@k[6;8H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H28,9[10C28%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;13Hpickle.dump(path_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H27,9[10C27%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H26,0-1[8C26%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H25,9[10C25%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;9Hid_to_path_dict = {i:filtered_paths[i] [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H24,9[10C23%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hpath_to_id_dict = {filtered_paths[i]:i [38;5;130mfor[m i [38;5;130min[m [36mrange[m([36mlen[m(filtered_paths))}[32;111H[K[32;111H23,0-1[8C22%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H22,9[10C21%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H21,9[10C19%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [36mlist[m([36mset[m(filtered_paths))[32;111H[K[32;111H20,0-1[8C18%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;13Hfiltered_paths.append(path.strip())[32;111H[K[32;111H19,9[10C17%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mfor[m path [38;5;130min[m paths:[32;111H[K[32;111H18,9[10C15%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hfiltered_paths = [][32;111H[K[32;111H17,0-1[8C14%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H16,0-1[8C13%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/filtered_paths"[m, encoding=[31m"utf-8"[m) [38;5;130mas[m paths:[32;111H[K[32;111H15,9[10C11%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H14,9[10C10%[6;9H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mindexPathTerm[m(words_file):[32;111H[K[32;111H13,9[11C9%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H12,9[11C7%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m term.strip()[32;111H[K[32;111H11,8[11C6%[6;8H[?25h[?25l[32;101H~@k[6;8H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;5Hterm = term.encode([31m"ascii"[m, [31m"ignore"[m)[32;111H[K[32;111H10,9[11C5%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5Hterm = [31m" "[m.join(re.sub([31m"[^A-Za-z0-9 ]+"[m, [31m" "[m, term).strip().split())[32;111H[K[32;111H9,0-1[10C3%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mprocessTerm[m(term):[32;111H[K[32;111H8,9[12C2%[6;9H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H7,0-1[10C1%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;9H[1;31r[1;1H[L[1;32r[1;1H[35mimport[m sys, re, pickle[32;111H[K[32;111H6,9[11CTop[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [5;9H[32;111H5[5;9H[?25h[?25l[32;101H~@k[5;9H[32;101H   [4;9H[32;111H4[4;9H[?25h[?25l[32;111H3[3;9H[?25h[?25l[32;101H~@k[3;9H[32;101H   [2;1H[32;111H2,0-1[2;1H[?25h[?25l[32;101H~@k[2;1H[32;101H   [1;9H[32;111H1,9  [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [1;9H[?25h[?25l[32;101H~@k[1;9H[32;101H   [2;1H[32;111H2,0-1[2;1H[?25h[?25l[32;111H3,9  [3;9H[?25h[?25l[32;111H4[4;9H[?25h[?25l[32;101H~@k[4;9H[32;101H   [5;9H[32;111H5[5;9H[?25h[?25l[32;111H6[6;9H[?25h[?25l[32;111H7,0-1[7;1H[?25h[?25l[32;111H8,9  [8;9H[?25h[?25l[32;101H~@k[8;9H[32;101H   [9;1H[32;111H9,0-1[9;1H[?25h[?25l[32;111H10,9 [10;9H[?25h[?25l[32;112H1,8[11;8H[?25h[?25l[32;112H2,9[12;9H[?25h[?25l[32;112H3[13;9H[?25h[?25l[32;112H4[14;9H[?25h[?25l[32;112H5[15;9H[?25h[?25l[32;101H~@k[15;9H[32;101H   [16;1H[32;112H6,0-1[16;1H[?25h[?25l[32;112H7[17;1H[?25h[?25l[32;112H8,9  [18;9H[?25h[?25l[32;112H9[19;9H[?25h[?25l[32;111H20,0-1[20;1H[?25h[?25l[32;112H1,9  [21;9H[?25h[?25l[32;112H2[22;9H[?25h[?25l[32;112H3,0-1[23;1H[?25h[?25l[32;112H4,9  [24;9H[?25h[?25l[32;101H~@k[24;9H[32;101H   [25;9H[32;112H5[25;9H[?25h[?25l[32;112H6,0-1[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H27,9[11C1%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H28,9[11C2%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpickle.dump(word_to_id_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H29,8[11C3%[26;8H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H30,9[11C5%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_id_to_word_dict.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H31,9[11C6%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpickle.dump(id_to_word_dict, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H32,0-1[9C7%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;9H[1;31r[31;1H
[1;32r[32;111H[K[32;111H33,9[11C9%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H34,9[10C10%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mgetTripletIDFromDB[m(parsed_file):[32;111H[K[32;111H35,0-1[8C11%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H36,9[10C13%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hx = [36mfile[m.split([31m"_"[m)[-[31m3[m][32;111H[K[32;111H37,9[10C14%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Houtput_parsed = [36mopen[m(paths_folder + [31m'/triplet_id_'[m + x, [31m'w+'[m)[32;111H[K[32;111H38,0-1[8C15%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H39,0-1[8C17%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;9H[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H40,9[10C18%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hword_to_id_dict = pickle.load(handle)[32;111H[K[32;111H41,0-1[8C19%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_path_to_id_dict.pkl'[m, [31m'rb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H42,9[10C21%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpath_to_id_dict = pickle.load(handle)[32;111H[K[32;111H43,9[10C22%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H44,0-1[8C23%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m parsed_inp:[32;111H[K[32;111H45,9[10C25%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m parsed_inp:[32;111H[K[32;111H46,9[10C26%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m line.strip():[32;111H[K[32;111H47,9[10C27%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mtry[m:[32;111H[K[32;111H48,9[10C28%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;21Hx, y, path = line.strip().split([31m'[m[35m\t[m[31m'[m)[32;111H[K[32;111H49,0-1[8C30%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mexcept[m:[32;111H[K[32;111H50,9[10C31%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;21H[36mprint[m ([31m"Bytes?"[m, line)[32;111H[K[32;111H51,9[10C32%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;21H[38;5;130mraise[m[32;111H[K[32;111H52,9[10C34%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130melse[m:[32;111H[K[32;111H53,9[10C35%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H54,9[10C36%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H55,9[10C38%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hx, y = processTerm(x.strip()), processTerm(y.strip())[32;111H[K[32;111H56,9[10C39%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H57,9[10C40%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mtry[m:[32;111H[K[32;111H58,9[10C42%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hx_id, y_id = word_to_id_dict[x], word_to_id_dict[y][32;111H[K[32;111H59,9[10C43%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H60,0-1[8C44%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[36mprint[m (e, x, y)[32;111H[K[32;111H61,9[10C46%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mcontinue[m[32;111H[K[32;111H62,9[10C47%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpath_id = path_to_id_dict.get(path.strip(), -[31m1[m)[32;111H[K[32;111H63,9[10C48%[26;9H[?25h[?25l[32;101H~@k[26;9H[32;101H   [26;9H[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m path_id != -[31m1[m:[32;111H[K[32;111H64,9[10C50%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Htriplet = [31m"[m[35m\t[m[31m"[m.join(([36mstr[m(x_id), [36mstr[m(y_id), [36mstr[m(path_id)))[32;111H[K[32;111H65,9[10C51%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Houtput_parsed.write(triplet + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H66,9[10C52%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H67,9[10C53%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Houtput_parsed.close()[32;111H[K[32;111H68,9[10C55%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H69,9[10C56%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mindexWordPairs[m(parsed_file):[32;111H[K[32;111H70,9[10C57%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H71,9[10C59%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hword_occurence_map = {}[32;111H[K[32;111H72,0-1[8C60%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H73,9[10C61%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(parsed_file) [38;5;130mas[m inp:[32;111H[K[32;111H74,0-1[8C63%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mfor[m line [38;5;130min[m inp:[32;111H[K[32;111H75,9[10C64%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hx, y, path, count = line.strip().split([31m' '[m)[32;111H[K[32;111H76,0-1[8C65%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;9H[1;31r[31;1H
[1;32r[32;111H[K[32;111H77,9[10C67%[26;9H[?25h[?25l[32;101H~@k[26;9H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;13Hkey = [36mstr[m(x) + [31m'_'[m + [36mstr[m(y)[32;111H[K[32;111H78,0-1[8C68%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hcurrent = path + [31m":"[m + count[32;111H[K[32;111H79,9[10C69%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H80,9[10C71%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mif[m key [38;5;130min[m word_occurence_map:[32;111H[K[32;111H81,9[10C72%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hpastkeys = word_occurence_map[key][32;111H[K[32;111H82,0-1[8C73%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;9H[1;31r[31;1H
[1;32r[31;17Hcurrent =  pastkeys + [31m','[m + current[32;111H[K[32;111H83,9[10C75%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hword_occurence_map[key] = current[32;111H[K[32;111H84,9[10C76%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H85,0-1[8C77%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;9H[1;31r[31;1H
[1;32r[32;111H[K[32;111H86,9[10C78%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwith[m [36mopen[m(paths_folder + [31m"/"[m + prefix + [31m'_word_occurence_map.pkl'[m, [31m'wb'[m) [38;5;130mas[m handle:[32;111H[K[32;111H87,9[10C80%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpickle.dump(word_occurence_map, handle, protocol=pickle.HIGHEST_PROTOCOL)[32;111H[K[32;111H88,9[10C81%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H89,9[10C82%[26;9H[?25h[?25l[32;101H~@k[26;9H[32;101H   [26;1H[1;31r[31;1H
[1;32r[32;111H[K[32;111H90,0-1[8C84%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hpaths_folder = sys.argv[[31m1[m][32;111H[K[32;111H91,4[10C85%[26;4H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[36mfile[m = sys.argv[[31m2[m][32;111H[K[32;111H92,9[10C86%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hprefix = sys.argv[[31m3[m][32;111H[K[32;111H93,9[10C88%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;1Hmode = sys.argv[[31m4[m][32;111H[K[32;111H94,0-1[8C89%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mif[m mode==[31m"1"[m:[32;111H[K[32;111H95,0-1[8C90%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexPathTerm([36mfile[m)[32;111H[K[32;111H96,9[10C92%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"2"[m:[32;111H[K[32;111H97,9[10C93%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HgetTripletIDFromDB([36mfile[m)[32;111H[K[32;111H98,9[10C94%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130melif[m mode==[31m"3"[m:[32;111H[K[32;111H99,9[10C96%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HindexWordPairs([36mfile[m)[32;111H[K[32;111H100,9[9C97%[26;9H[?25h[?25l[32;101H~@k[26;9H[32;101H   [26;9H[1;31r[31;1H
[1;32r[32;111H[K[32;111H101,9[9C98%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H102,9[9CBot[26;9H[?25h[?25l[32;113H3[27;9H[?25h[?25l[32;101H~@k[27;9H[32;101H   [28;9H[32;113H4[28;9H[?25h[?25l[32;113H5[29;9H[?25h[?25l[32;101H~@k[29;9H[32;101H   [30;1H[32;113H6,0-1[30;1H[?25h[?25l[32;113H7,4  [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H^[[31;4H[32;101H  [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H~@k[31;4H[32;101H   [31;4H[?25h[?25l[32;101H:[31;4H[32;101H[K[32;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[32;1H[K[32;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi path_terms_indexer.py run.sh [K[15@path_terms_indexer.py[C[5Pcorpus_pars[C[C[C[C[C[C
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;32r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[32;1H"corpus_parser.py" 208L, 6990C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35mimport[m spacy, subprocess, itertools, multiprocessing, sys
[35mfrom[m spacy.tokens.token [35mimport[m Token

MAX_PATH_LENS = [106m[[m[31m4[m, [31m6[m, [31m8[m, [31m10[m, [31m15[m, [31m30[m[106m][m

[38;5;130mdef[m [36mstringifyEdge[m(word, root=[36mTrue[m):
    [38;5;130mtry[m:[8;9Hw = word.root
    [38;5;130mexcept[m:[10;9Hw = word[12;5H[38;5;130mif[m [36misinstance[m(word, Token):[13;9Hword = word.lemma_.strip().lower()
    [38;5;130melse[m:[15;9Hword = [31m' '[m.join([wd.string.strip().lower() [38;5;130mfor[m wd [38;5;130min[m word])
    pos, deps = w.pos_, w.dep_
    path = [31m'/'[m.join([word, pos, deps [38;5;130mif[m deps [38;5;130mand[m root [38;5;130melse[m [31m'ROOT'[m])
    [38;5;130mreturn[m path

[38;5;130mdef[m [36mstringifyArg[m(word, edge):
    [38;5;130mtry[m:[22;9Hword = word.root
    [38;5;130mexcept[m:[24;9H[38;5;130mpass[m
    pos, deps = word.pos_, word.dep_
    path = [31m'/'[m.join([edge, pos, deps [38;5;130mif[m deps [38;5;130melse[m [31m'ROOT'[m])
    [38;5;130mreturn[m path

[38;5;130mdef[m [36mfilterPaths[m(function, lowestCommonHead, paths):
    path1 = [lowestCommonHead]
    path1.extend(paths[:-[31m1[m])[32;111H4,37[10CTop[4;37H[?25h[?25l[32;101H~@k[4;37H[32;101H   [5;1H[4;17H[[19C][32;111H5,0-1[5;1H[?25h[?25l[32;101H~@k[5;1H[32;101H   [6;35H[32;111H6,35 [6;35H[?25h[?25l[32;101H~@k[6;35H[32;101H   [7;8H[32;111H7,8 [7;8H[?25h[?25l[32;111H8,21[8;21H[?25h[?25l[32;101H~@k[8;21H[32;101H   [9;11H[32;111H9,1[9;11H[?25h[?25l[32;111H10,16[10;16H[?25h[?25l[32;112H1,0-1[11;1H[?25h[?25l[32;101H~@k[11;1H[32;101H   [12;31H[32;112H2,31 [12;31H[?25h[?25l[32;112H3,37[13;37H[?25h[?25l[32;101H~@k[13;37H[32;101H   [14;9H[32;112H4,9 [14;9H[?25h[?25l[32;112H5,37[15;37H[?25h[?25l[32;112H6,30[16;30H[?25h[?25l[32;112H7,37[17;37H[?25h[?25l[32;101H~@k[17;37H[32;101H   [18;15H[32;112H8,15[18;15H[?25h[?25l[32;112H9,0-1[19;1H[?25h[?25l[32;111H20,29 [20;29H[?25h[?25l[32;112H1,8 [21;8H[?25h[?25l[32;112H2,24[22;24H[?25h[?25l[32;112H3,11[23;11H[?25h[?25l[32;112H4,12[24;12H[?25h[?25l[32;112H5,36[25;36H[?25h[?25l[32;112H6,37[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hpath2 = paths[32;1H[K[32;111H27,15[10C0%[26;15H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mreturn[m [36many[m(node [38;5;130mnot[m [38;5;130min[m function(path) [38;5;130mfor[m path, node [38;5;130min[m [36mlist[m([36mzip[m(path1, path2)))[32;111H[K[32;111H28,0-1[9C1%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;37H[1;31r[31;1H
[1;32r[32;111H[K[32;111H29,37[10C1%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[26;13H[106m[[16C][m[31;1H[38;5;130mdef[m [36mnotPunct[m(arr):[32;111H[K[32;111H30,30[10C2%[26;30H[?25h[?25l[1;31r[31;1H
[1;32r[25;13H[[16C][26;17H[106m([10C)[m[31;5HfirstWord = arr[[31m0[m][32;111H[K[32;111H31,28[10C2%[26;28H[?25h[?25l[1;31r[31;1H
[1;32r[25;17H([10C)[31;5H[38;5;130mreturn[m firstWord.tag_ != [31m'PUNCT'[m [38;5;130mand[m [36mlen[m(firstWord.string.strip()) > [31m1[m[32;111H[K[32;111H32,17[10C3%[26;17H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H33,37[10C3%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mnotEqual[m(x, y):[32;111H[K[32;111H34,0-1[9C4%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mtry[m:[32;111H[K[32;111H35,18[10C5%[26;18H[?25h[?25l[1;31r[31;1H
[1;32r[26;20H[106m[[1C][m[31;9H[38;5;130mreturn[m x!=y[32;111H[K[32;111H36,22[10C5%[26;22H[?25h[?25l[1;31r[31;1H
[1;32r[25;20H[[1C][31;5H[38;5;130mexcept[m:[32;111H[K[32;111H37,37[10C6%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mreturn[m [36mFalse[m[32;111H[K[32;111H38,0-1[9C6%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H39,19[10C7%[26;19H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mcheckHead[m(token, lowestCommonHead):[32;111H[K[32;111H40,8[11C7%[26;8H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mreturn[m [36misinstance[m(token, Token) [38;5;130mand[m lowestCommonHead == token[32;111H[K[32;111H41,19[10C8%[26;19H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H42,11[10C9%[26;11H[?25h[?25l[32;101H~@k[26;11H[32;101H   [26;20H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mgetPathFromRoot[m(phrase):[32;111H[K[32;111H43,20[10C9%[26;20H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hpaths = [][32;111H[K[32;111H44,0-1[8C10%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hhead = phrase.head[32;111H[K[32;111H45,37[9C10%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mwhile[m phrase != head:[32;111H[K[32;111H46,37[9C11%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hphrase = phrase.head[32;111H[K[32;111H47,0-1[8C11%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hpaths.append(phrase)[32;111H[K[32;111H48,28[9C12%[26;28H[?25h[?25l[1;31r[31;1H
[1;32r[26;13H[106m[][m[31;9Hhead = phrase.head[32;111H[K[32;111H49,14[9C12%[26;14H[?25h[?25l[1;31r[31;1H
[1;32r[25;13H[][31;5Hpaths = paths[::-[31m1[m][32;111H[K[32;111H50,22[9C13%[26;22H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mreturn[m paths[32;111H[K[32;111H51,25[9C14%[26;25H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H52,28[9C14%[26;28H[?25h[?25l[1;31r[31;1H
[1;32r[26;21H[106m([mphrase[106m)[m[31;1H[38;5;130mdef[m [36mbreakCompoundWords[m(elem):[32;111H[K[32;111H53,28[9C15%[26;28H[?25h[?25l[1;31r[31;1H
[1;32r[25;21H(phrase)[31;5H[38;5;130mtry[m:[32;111H[K[32;111H54,26[9C15%[26;26H[?25h[?25l[32;101H~@k[26;26H[32;101H   [26;23H[1;31r[31;1H
[1;32r[26;18H[106m[[4C][m[31;9Hroot = elem.root[32;111H[K[32;111H55,23[9C16%[26;23H[?25h[?25l[32;101H~@k[26;23H[32;101H   [26;16H[1;31r[31;1H
[1;32r[25;18H[[4C][31;9H[38;5;130mreturn[m root[32;111H[K[32;111H56,16[9C16%[26;16H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mexcept[m:[32;111H[K[32;111H57,0-1[8C17%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;29H[1;31r[31;1H
[1;32r[31;9H[38;5;130mreturn[m elem[32;111H[K[32;111H58,29[9C18%[26;29H[?25h[?25l[32;101H~@k[26;29H[32;101H   [26;8H[1;31r[31;1H
[1;32r[32;111H[K[32;111H59,8[10C18%[26;8H[?25h[?25l[32;101H~@k[26;8H[32;101H   [26;24H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mfindMinLength[m(x, y):[32;111H[K[32;111H60,24[9C19%[26;24H[?25h[?25l[32;101H~@k[26;24H[32;101H   [26;19H[1;31r[31;1H
[1;32r[31;5H[38;5;130mif[m [36mlen[m(x) < [36mlen[m(y):[32;111H[K[32;111H61,19[9C19%[26;19H[?25h[?25l[32;101H~@k[26;19H[32;101H   [26;11H[1;31r[31;1H
[1;32r[31;9H[38;5;130mreturn[m ([36mlen[m(x), x)[32;111H[K[32;111H62,11[9C20%[26;11H[?25h[?25l[32;101H~@k[26;11H[32;101H   [26;19H[1;31r[31;1H
[1;32r[31;5H[38;5;130mreturn[m ([36mlen[m(y), y)[32;111H[K[32;111H63,19[9C20%[26;19H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H64,0-1[8C21%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;24H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mfindLowestCommonHead[m(pathX, pathY, minLength, minArray):[32;111H[K[32;111H65,24[9C22%[26;24H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HlowestCommonHead = [36mNone[m[32;111H[K[32;111H66,23[9C22%[26;23H[?25h[?25l[1;31r[31;1H
[1;32r[26;16H[106m([9C)[m[31;5H[38;5;130mif[m minLength:[32;111H[K[32;111H67,26[9C23%[26;26H[?25h[?25l[32;101H~@k[26;26H[32;101H   [26;22H[1;31r[31;1H
[1;32r[25;16H([9C)[26;12H[106m([9C)[m[31;9Huncommon = [i [38;5;130mfor[m i [38;5;130min[m [36mrange[m(minLength) [38;5;130mif[m pathX[i] != pathY[i]][32;111H[K[32;111H68,22[9C23%[26;22H[?25h[?25l[1;31r[31;1H
[1;32r[25;12H([9C)[31;9H[38;5;130mif[m uncommon:[32;111H[K[32;111H69,0-1[8C24%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hidx = uncommon[[31m0[m] - [31m1[m[32;111H[K[32;111H70,37[9C24%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130melse[m:[32;111H[K[32;111H71,27[9C25%[26;27H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hidx = minLength - [31m1[m[32;111H[K[32;111H72,25[9C25%[26;25H[?25h[?25l[1;31r[31;1H
[1;32r[26;37H[106m([9C)[m[31;9HlowestCommonHead = minArray[idx][32;111H[K[32;111H73,37[9C26%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[25;37H([9C)[31;5H[38;5;130melse[m:[32;111H[K[32;111H74,20[9C27%[26;20H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hidx = [31m0[m[32;111H[K[32;111H75,33[9C27%[26;33H[?25h[?25l[32;101H~@k[26;33H[32;101H   [26;13H[1;31r[31;1H
[1;32r[31;9H[38;5;130mif[m pathX:[32;111H[K[32;111H76,13[9C28%[26;13H[?25h[?25l[1;31r[31;1H
[1;32r[31;13HlowestCommonHead = pathX[[31m0[m][32;111H[K[32;111H77,31[9C28%[26;31H[?25h[?25l[32;101H~@k[26;31H[32;101H   [26;37H[1;31r[31;1H
[1;32r[31;9H[38;5;130melif[m pathY:[32;111H[K[32;111H78,37[9C29%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;13HlowestCommonHead = pathY[[31m0[m][32;111H[K[32;111H79,9[10C29%[26;9H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130melse[m:[32;111H[K[32;111H80,15[9C30%[26;15H[?25h[?25l[1;31r[31;1H
[1;32r[31;13HlowestCommonHead = [36mNone[m[32;111H[K[32;111H81,17[9C31%[26;17H[?25h[?25l[1;31r[31;1H
[1;32r[26;37H[106m[[1C][m[32;111H[K[32;111H82,37[9C31%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[25;37H[[1C][31;5H[38;5;130mreturn[m idx, lowestCommonHead[32;111H[K[32;111H83,19[9C32%[26;19H[?25h[?25l[1;31r[31;1H
[1;32r[26;37H[106m[[1C][m[32;111H[K[32;111H84,37[9C32%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[25;37H[[1C][31;1H[38;5;130mdef[m [36mgetShortestPath[m(tup):[32;111H[K[32;111H85,13[9C33%[26;13H[?25h[?25l[32;101H~@k[26;13H[32;101H   [26;35H[1;31r[31;1H
[1;32r[32;111H[K[32;111H86,35[9C33%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hxinit, yinit = tup[[31m0[m], tup[[31m1[m][32;111H[K[32;111H87,4[10C34%[26;4H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H88,32[9C35%[26;32H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hx, y = breakCompoundWords(xinit), breakCompoundWords(yinit)[32;111H[K[32;111H89,0-1[8C35%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H90,25[9C36%[26;25H[?25h[?25l[1;31r[31;1H
[1;32r[31;5HpathX, pathY = getPathFromRoot(x), getPathFromRoot(y)[32;111H[K[32;111H91,0-1[8C36%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[26;31H[106m[[1C][m[32;111H[K[32;111H92,33[9C37%[26;33H[?25h[?25l[1;31r[31;1H
[1;32r[25;31H[[1C][31;5HminLength, minArray = findMinLength(pathX, pathY)[32;111H[K[32;111H93,0-1[8C37%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H94,37[9C38%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hidx, lowestCommonHead = findLowestCommonHead(pathX, pathY, minLength, minArray)[32;111H[K[32;111H95,4[10C38%[26;4H[?25h[?25l[1;31r[31;1H
[1;32r[26;35H[106m([mx[106m)[m[32;111H[K[32;111H96,37[9C39%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[25;35H(x)[31;5H[38;5;130mtry[m:[32;111H[K[32;111H97,4[10C40%[26;4H[?25h[?25l[1;31r[31;1H
[1;32r[31;9HpathX = pathX[idx+[31m1[m:][32;111H[K[32;111H98,37[9C40%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9HpathY = pathY[idx+[31m1[m:][32;111H[K[32;111H99,4[10C41%[26;4H[?25h[?25l[32;101H~@k[26;4H[32;101H   [26;37H[1;31r[31;1H
[1;32r[31;9HcheckLeft, checkRight = [38;5;130mlambda[m h: h.lefts, [38;5;130mlambda[m h: h.rights[32;111H[K[32;111H100,37[8C41%[26;37H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;9H[38;5;130mif[m lowestCommonHead [38;5;130mand[m (filterPaths(checkLeft, lowestCommonHead, pathX) [38;5;130mor[m filterPaths(checkRight, lowestCommonHead, paa[31;1HthY)):[32;111H[K[32;111H101,4[9C42%[25;4H[?25h[?25l[32;101H~@k[25;4H[32;101H   [26;8H[32;113H2,8[26;8H[?25h[?25l[1;31r[31;1H
[1;32r[26;22H[106m[[6C][m[31;13H[38;5;130mreturn[m [36mNone[m[32;111H[K[32;111H103,29[8C43%[26;29H[?25h[?25l[1;31r[31;1H
[1;32r[25;22H[[6C][26;22H[106m[[6C][m[31;9HpathX = pathX[::-[31m1[m][32;111H[K[32;111H104,29[8C43%[26;29H[?25h[?25l[1;31r[31;1H
[1;32r[25;22H[[6C][32;111H[K[32;111H105,37[8C44%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [25;37H[1;31r[1;1H[2M[1;32r[30;9Hpaths = [([36mNone[m, xinit, pathX, lowestCommonHead, pathY, yinit, [36mNone[m)][31;9Hlefts, rights = [36mlist[m(xinit.lefts), [36mlist[m(yinit.rights)[32;111H[K[32;111H106,37[8C45%[25;37H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H107,23[8C46%[26;23H[?25h[?25l[32;101H~@k[26;23H[32;101H   [26;27H[1;31r[31;1H
[1;32r[26;22H[106m[[4C][m[31;9H[38;5;130mif[m lefts [38;5;130mand[m notPunct(lefts):[32;111H[K[32;111H108,27[8C46%[26;27H[?25h[?25l[1;31r[31;1H
[1;32r[25;22H[[4C][31;13Hpaths.append((lefts[[31m0[m], xinit, pathX, lowestCommonHead, pathY, yinit, [36mNone[m))[32;111H[K[32;111H109,0-1[7C47%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H110,37[8C47%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mif[m rights [38;5;130mand[m notPunct(rights):[32;111H[K[32;111H111,37[8C48%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hpaths.append(([36mNone[m, xinit, pathX, lowestCommonHead, pathY, yinit, rights[[31m0[m]))[32;111H[K[32;111H112,0-1[7C48%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H113,37[8C49%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mreturn[m paths[32;111H[K[32;111H114,37[8C50%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[32;111H[K[32;111H115,0-1[7C50%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[36mprint[m (e)[32;111H[K[32;111H116,37[8C51%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;37H[1;31r[31;1H
[1;32r[31;9H[38;5;130mreturn[m [36mNone[m[32;111H[K[32;111H117,37[8C51%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;8H[1;31r[31;1H
[1;32r[32;111H[K[32;111H118,8[9C52%[26;8H[?25h[?25l[32;101H~@k[26;8H[32;101H   [26;20H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mstringifyFilterPath[m(path, maxlen):[32;111H[K[32;111H119,20[8C52%[26;20H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H120,26[8C53%[26;26H[?25h[?25l[1;31r[31;1H
[1;32r[26;15H[106m([me[106m)[m[31;5HlowestCommonHeads = [][32;111H[K[32;111H121,17[8C53%[26;17H[?25h[?25l[32;101H~@k[26;17H[32;101H   [26;19H[1;31r[31;1H
[1;32r[25;15H(e)[31;5H(leftX, x, pathX, lowestCommonHead, pathY, y, rightY) = path[32;111H[K[32;111H122,19[8C54%[26;19H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H123,0-1[7C55%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[26;24H[106m([12C)[m[31;5HisXHead, isYHead = checkHead(x, lowestCommonHead), checkHead(y, lowestCommonHead)[32;111H[K[32;111H124,37[8C55%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[25;24H([12C)[31;5HsignX = [31m''[m [38;5;130mif[m isXHead [38;5;130melse[m [31m'>'[m[32;111H[K[32;111H125,0-1[7C56%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;26H[1;31r[31;1H
[1;32r[26;25H[106m[][m[31;5HleftXPath  = [][32;111H[K[32;111H126,26[8C56%[26;26H[?25h[?25l[1;31r[31;1H
[1;32r[25;25H[][31;5H[38;5;130mif[m leftX:[32;111H[K[32;111H127,37[8C57%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9Hedge_str = stringifyEdge(leftX)[32;111H[K[32;111H128,0-1[7C57%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;9HleftXPath.append(edge_str + [31m"<"[m)[32;111H[K[32;111H129,37[8C58%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H130,34[8C58%[26;34H[?25h[?25l[1;31r[1;1H[2M[1;32r[25;18H[106m[][m[30;5HsignY = [31m''[m [38;5;130mif[m isYHead [38;5;130melse[m [31m'<'[m
    rightYPath = [][32;111H[K[32;111H131,19[8C59%[25;19H[?25h[?25l[][32;113H2,13[26;13H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mif[m rightY:[32;111H[K[32;111H133,37[8C60%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9Hedge_str = stringifyEdge(rightY)[32;111H[K[32;111H134,37[8C61%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;9HrightYPath.append([31m">"[m + edge_str)[32;111H[K[32;111H135,0-1[7C61%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H136,34[8C62%[26;34H[?25h[?25l[1;31r[31;1H
[1;32r[26;18H[106m[][m[31;5HlowestCommonHeads = [[stringifyEdge(lowestCommonHead, [36mFalse[m)] [38;5;130mif[m lowestCommonHead [38;5;130mand[m [38;5;130mnot[m (isYHead [38;5;130mor[m isXHead) [38;5;130melse[m []][[31m0[m][32;111H[K[32;111H137,19[8C62%[26;19H[?25h[?25l[1;31r[31;1H
[1;32r[25;18H[][32;111H[K[32;111H138,14[8C63%[26;14H[?25h[?25l[1;31r[31;1H
[1;32r[31;5H[38;5;130mif[m maxlen >= [36mlen[m(pathX + leftXPath + pathY + rightYPath + lowestCommonHeads):[32;111H[K[32;111H139,37[8C63%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;37H[1;31r[31;1H
[1;32r[32;111H[K[32;111H140,37[8C64%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mif[m [36misinstance[m(x, Token):[32;111H[K[32;111H141,0-1[7C64%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13HstringifiedX = x.string.strip().lower()[32;111H[K[32;111H142,37[8C65%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;4H[1;31r[31;1H
[1;32r[31;9H[38;5;130melse[m:[32;111H[K[32;111H143,4[9C66%[26;4H[?25h[?25l[1;31r[31;1H
[1;32r[31;13HstringifiedX = [31m' '[m.join([x_wd.string.strip().lower() [38;5;130mfor[m x_wd [38;5;130min[m x])[32;111H[K[32;111H144,37[8C66%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H145,8[9C67%[26;8H[?25h[?25l[32;101H~@k[26;8H[32;101H   [26;32H[1;31r[31;1H
[1;32r[31;9H[38;5;130mif[m [36misinstance[m(y, Token):[32;111H[K[32;111H146,32[8C67%[26;32H[?25h[?25l[1;31r[31;1H
[1;32r[31;13HstringifiedY = y.string.strip().lower()[32;111H[K[32;111H147,37[8C68%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130melse[m:[32;111H[K[32;111H148,13[8C68%[26;13H[?25h[?25l[1;31r[31;1H
[1;32r[26;37H[106m[[41C][m[31;13HstringifiedY = [31m' '[m.join([y_wd.string.strip().lower() [38;5;130mfor[m y_wd [38;5;130min[m y])[32;111H[K[32;111H149,37[8C69%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;8H[1;31r[31;1H
[1;32r[25;37H[[41C][32;111H[K[32;111H150,8[9C70%[26;8H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;9HstringifiedPathX, stringifiedPathY = [stringifyEdge(word) + [31m">"[m [38;5;130mfor[m word [38;5;130min[m pathX], [[31m"<"[m + stringifyEdge(word) [38;5;130mfor[m word  [31;1H[38;5;130min[m pathY][32;111H[K[32;111H151,32[8C70%[25;32H[?25h[?25l[32;113H2,37[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;13H[1;31r[31;1H
[1;32r[31;9HstringifiedArgX, stringifiedArgY = [stringifyArg(x, [31m'X'[m) + signX], [signY + stringifyArg(y, [31m'Y'[m)][32;111H[K[32;111H153,13[8C71%[26;13H[?25h[?25l[32;101H~@k[26;13H[32;101H   [26;37H[1;31r[31;1H
[1;32r[26;37H[106m[[41C][m[32;111H[K[32;111H154,37[8C71%[26;37H[?25h[?25l[1;31r[1;1H[2M[1;32r[24;37H[[41C][30;9HstringifiedPath = [31m'_'[m.join(leftXPath + stringifiedArgX + stringifiedPathX + lowestCommonHeads + stringifiedPathY + strinn[31;1HgifiedArgY + rightYPath)[32;111H[K[32;111H155,0-1[7C72%[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [25;37H[1;31r[31;1H
[1;32r[32;111H[K[32;111H156,37[8C73%[25;37H[?25h[?25l[32;101H~@k[25;37H[32;101H   [26;37H[1;31r[31;1H
[1;32r[31;9H[38;5;130mreturn[m (stringifiedX, stringifiedY, stringifiedPath)[32;111H[K[32;111H157,37[8C73%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;8H[1;31r[31;1H
[1;32r[32;111H[K[32;111H158,8[9C74%[26;8H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;5H[38;5;130mreturn[m [36mNone[m[32;111H[K[32;111H159,37[8C75%[25;37H[?25h[?25l[32;101H~@k[25;37H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mgetDependencyPaths[m(sentence, nlp, sentenceNounChunks, maxlen):[32;111H[K[32;111H160,0-1[7C75%[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H161,37[8C76%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5Hnps = [(n, n.start, n.end) [38;5;130mfor[m n [38;5;130min[m sentenceNounChunks][32;111H[K[32;111H162,0-1[7C77%[26;1H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;5Hnps.extend([(word, pos, pos) [38;5;130mfor[m (pos, word) [38;5;130min[m [36menumerate[m(sentence) [38;5;130mif[m word.tag_[:[31m2[m] == [31m'NN'[m [38;5;130mand[m [36mlen[m(word.string.strip()) >  [31;1H[31m2[m])[32;111H[K[32;111H163,15[8C77%[25;15H[?25h[?25l[32;113H4,0-1[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hls = [36mlist[m(itertools.product(nps, nps))[32;111H[K[32;111H165,37[8C78%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [25;1H[1;31r[1;1H[2M[1;32r[30;5HpairedConcepts = [(el[[31m0[m][[31m0[m], el[[31m1[m][[31m0[m]) [38;5;130mfor[m el [38;5;130min[m itertools.product(nps, nps) [38;5;130mif[m el[[31m1[m][[31m1[m] > el[[31m0[m][[31m2[m] [38;5;130mand[m notEqual(el[[31m0[m], el[[31m11[m[31;1H])][32;111H[K[32;111H166,0-1[7C79%[25;1H[?25h[?25l[32;113H7,37 [26;37H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;5HpairedConcepts = [36mlist[m([36mdict[m.fromkeys(pairedConcepts))[32;111H[K[32;111H168,37[8C80%[25;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hpaths = [][32;111H[K[32;111H169,37[8C80%[26;37H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;5H[38;5;130mfor[m pair [38;5;130min[m pairedConcepts:[31;9HappendingElem = getShortestPath(pair)[32;111H[K[32;111H170,37[8C81%[25;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;9H[38;5;130mif[m appendingElem:[32;111H[K[32;111H171,37[8C82%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;13Hfiltered = [stringifyFilterPath(path, maxlen) [38;5;130mfor[m path [38;5;130min[m appendingElem][32;111H[K[32;111H172,4[9C82%[26;4H[?25h[?25l[32;101H~@k[26;4H[32;101H   [26;14H[1;31r[31;1H
[1;32r[26;13H[106m[][m[31;13Hpaths.extend(filtered)[32;111H[K[32;111H173,14[8C83%[26;14H[?25h[?25l[1;31r[31;1H
[1;32r[25;13H[][32;111H[K[32;111H174,31[8C83%[26;31H[?25h[?25l[32;101H~@k[26;31H[32;101H   [26;37H[1;31r[31;1H
[1;32r[31;5H[38;5;130mreturn[m paths[32;111H[K[32;111H175,37[8C84%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H176,25[8C85%[26;25H[?25h[?25l[1;31r[31;1H
[1;32r[31;1H[38;5;130mdef[m [36mparseText[m([36mfile[m, op, maxlen):[32;111H[K[32;111H177,37[8C85%[26;37H[?25h[?25l[1;31r[1;1H[2M[1;32r[25;25H[106m([8C)[m[31;5Hnlp = spacy.load([31m'en_core_web_sm'[m)[32;111H[K[32;111H178,34[8C86%[25;34H[?25h[?25l[25;25H([8C)[32;113H9,0-1[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hnlp.add_pipe(nlp.create_pipe([31m'sentencizer'[m), before=[31m"parser"[m)[32;111H[K[32;111H180,16[8C87%[26;16H[?25h[?25l[1;31r[31;1H
[1;32r[31;5Hop = op + [31m"_"[m + [36mstr[m(maxlen) + [31m"_parsed"[m[32;111H[K[32;111H181,0-1[7C87%[26;1H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;5H[38;5;130mwith[m [36mopen[m([36mfile[m, [31m"r"[m) [38;5;130mas[m inp:[31;9H[38;5;130mwith[m [36mopen[m(op, [31m"w+"[m) [38;5;130mas[m out:[32;111H[K[32;111H182,32[8C88%[25;32H[?25h[?25l[32;113H3,0-1[26;1H[?25h[?25l[1;31r[31;1H
[1;32r[31;13H[38;5;130mfor[m para [38;5;130min[m inp:[32;111H[K[32;111H184,37[8C89%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mif[m [38;5;130mnot[m para.strip(): [38;5;130mcontinue[m[32;111H[K[32;111H185,37[8C89%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;17HnounChunks = [36mlist[m(nlp(para).noun_chunks).copy()[32;111H[K[32;111H186,37[8C90%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;17Hsentences = nlp(para.strip()).sents[32;111H[K[32;111H187,32[8C91%[26;32H[?25h[?25l[1;31r[31;1H
[1;32r[31;17H[38;5;130mfor[m sentence [38;5;130min[m sentences:[32;111H[K[32;111H188,35[8C91%[26;35H[?25h[?25l[1;31r[31;1H
[1;32r[31;21H[38;5;130mif[m [31m"<doc id="[m [38;5;130min[m sentence.text [38;5;130mor[m [31m"</doc>"[m [38;5;130min[m sentence.text:[32;111H[K[32;111H189,28[8C92%[26;28H[?25h[?25l[32;101H~@k[26;28H[32;101H   [26;37H[1;31r[31;1H
[1;32r[31;25H[38;5;130mcontinue[m[32;111H[K[32;111H190,37[8C92%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;21HsentenceNounChunks = [n [38;5;130mfor[m n [38;5;130min[m nounChunks [38;5;130mif[m sentence.start <= n.start < n.end - [31m1[m < sentence.end][32;111H[K[32;111H191,37[8C93%[26;37H[?25h[?25l[1;31r[1;1H[2M[1;32r[30;21Hdependencies = getDependencyPaths(sentence, nlp, sentenceNounChunks, maxlen)[31;21H[38;5;130mif[m dependencies:[32;111H[K[32;111H192,37[8C94%[25;37H[?25h[?25l[32;101H~@k[25;37H[32;101H   [26;37H[32;113H3[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;25Hallpaths = [[31m"[m[35m\t[m[31m"[m.join(path) [38;5;130mfor[m path [38;5;130min[m dependencies [38;5;130mif[m path][32;111H[K[32;111H194,37[8C94%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [25;32H[1;31r[1;1H[2M[1;32r[30;25Hout.write([31m"[m[35m\n[m[31m"[m.join(allpaths) + [31m"[m[35m\n[m[31m"[m)[32;111H[K[32;111H195,32[8C96%[25;32H[?25h[?25l[32;101H~@k[25;32H[32;101H   [26;37H[32;113H6,37[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[32;111H[K[32;111H197,37[8C96%[26;37H[?25h[?25l[1;31r[31;1H
[1;32r[31;1HsplitFileName = sys.argv[[31m1[m].split([31m"_"[m)[32;111H[K[32;111H198,36[8C97%[26;36H[?25h[?25l[32;101H~@k[26;36H[32;101H   [26;37H[1;31r[31;1H
[1;32r[31;1H[36mfile[m = [31m"_"[m.join(splitFileName[:-[31m1[m]) + [31m"_"[m + ([31m"0"[m + splitFileName[-[31m1[m] [38;5;130mif[m [36mlen[m(splitFileName[-[31m1[m]) == [31m1[m [38;5;130melse[m  splitFileName[-[31m1[m])[32;111H[K[32;111H199,37[8C97%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;37H[1;31r[31;1H
[1;32r[32;111H[K[32;111H200,37[8C98%[26;37H[?25h[?25l[32;101H~@k[26;37H[32;101H   [26;38H[32;116H8[26;38H[?25h[?25l[32;101H~@k[26;38H[32;101H   [26;39H[32;116H9[26;39H[?25h[?25l[32;101H~@k[26;39H[32;101H   [26;40H[32;115H40[26;40H[?25h[?25l[32;101H~@k[26;40H[32;101H   [26;41H[32;116H1[26;41H[?25h[?25l[32;101H~@k[26;41H[32;101H   [26;42H[32;116H2[26;42H[?25h[?25l[32;101H~@k[26;42H[32;101H   [26;43H[32;116H3[26;43H[?25h[?25l[32;101H~@k[26;43H[32;101H   [26;44H[106m([8C)[m[32;116H4[26;44H[?25h[?25l[32;101H~@k[26;44H[32;101H   [26;45H([8C)[32;116H5[26;45H[?25h[?25l[32;101H~@k[26;45H[32;101H   [26;46H[32;116H6[26;46H[?25h[?25l[32;101H~@k[26;46H[32;101H   [26;47H[32;116H7[26;47H[?25h[?25l[32;101H~@k[26;47H[32;101H   [26;48H[32;116H8[26;48H[?25h[?25l[32;101H~@k[26;48H[32;101H   [26;49H[32;116H9[26;49H[?25h[?25l[32;101H~@k[26;49H[32;101H   [26;50H[32;115H50[26;50H[?25h[?25l[32;101H~@k[26;50H[32;101H   [26;51H[32;116H1[26;51H[?25h[?25l[32;101H~@k[26;51H[32;101H   [26;52H[32;116H2[26;52H[?25h[?25l[32;101H~@k[26;52H[32;101H   [26;53H[26;44H[106m([8C)[m[32;116H3[26;53H[?25h[?25l[32;101H~@k[26;53H[32;101H   [26;54H[26;44H([8C)[32;116H4[26;54H[?25h[?25l[32;101H~@k[26;54H[32;101H   [26;53H[26;44H[106m([8C)[m[32;116H3[26;53H[?25h[?25l[32;101Hb[26;53H[32;101H [26;45H([8C)[32;115H45[26;45H[?25h[?25l[32;101H~@k[26;45H[32;101H   [26;44H[106m([8C)[m[32;116H4[26;44H[?25h[?25l[32;101Hf[26;44H[?25h[?25l[32;102H~@k[26;44H[32;101H    [26;44H[?25h[?25l[32;101H~@k[26;44H[32;101H   [26;45H([8C)[32;116H5[26;45H[?25h[?25l[32;101H~@k[26;45H[32;101H   [26;46H[32;116H6[26;46H[?25h[?25l[32;101H~@k[26;46H[32;101H   [26;47H[32;116H7[26;47H[?25h[?25l[32;101H~@k[26;47H[32;101H   [26;48H[32;116H8[26;48H[?25h[?25l[32;101H~@k[26;48H[32;101H   [26;49H[32;116H9[26;49H[?25h[?25l[32;101H~@k[26;49H[32;101H   [26;50H[32;115H50[26;50H[?25h[?25l[32;101H~@k[26;50H[32;101H   [26;51H[32;116H1[26;51H[?25h[?25l[32;101H~@k[26;51H[32;101H   [26;52H[32;116H2[26;52H[?25h[?25l[32;101H~@k[26;52H[32;101H   [26;53H[26;44H[106m([8C)[m[32;116H3[26;53H[?25h[?25l[32;101H~@k[26;53H[32;101H   [26;54H[26;44H([8C)[32;116H4[26;54H[?25h[?25l[32;101H~@k[26;54H[32;101H   [26;55H[32;116H5[26;55H[?25h[?25l[32;101H~@k[26;55H[32;101H   [26;54H[32;116H4[26;54H[?25h[?25l[32;101H~@k[26;54H[32;101H   [26;53H[26;44H[106m([8C)[m[32;116H3[26;53H[?25h[?25l[32;101H~@k[26;53H[32;101H   [26;1H[1;31r[31;1H
[1;32r[25;44H([8C)[31;1H[38;5;130mfor[m maxlen [38;5;130min[m MAX_PATH_LENS:[32;111H[K[32;111H201,0-1[7C98%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;1H[1;31r[31;1H
[1;32r[31;5HparseText([36mfile[m, sys.argv[[31m1[m], maxlen)[32;111H[K[32;111H202,0-1[7C99%[26;1H[?25h[?25l[32;101H~@k[26;1H[32;101H   [26;38H[1;31r[31;1H
[1;32r[26;34H[106m([3C)[m[32;111H[K[32;111H203,38[8CBot[26;38H[?25h[?25l[32;101H~@k[26;38H[32;101H   [27;53H[26;34H([3C)[32;113H4,53[27;53H[?25h[?25l[32;101H~@k[27;53H[32;101H   [28;1H[32;113H5,0-1[28;1H[?25h[?25l[32;101H~@k[28;1H[32;101H   [29;28H[32;113H6,28 [29;28H[?25h[?25l[32;101H~@k[29;28H[32;101H   [30;40H[30;14H[106m([25C)[m[32;113H7,40[30;40H[?25h[?25l[32;101H~@k[30;40H[32;101H   [31;1H[30;14H([25C)[32;113H8,0-1[31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [31;1H[?25h[?25l[32;101H~@k[31;1H[32;101H   [30;40H[30;14H[106m([25C)[m[32;113H7,40 [30;40H[?25h[?25l[32;101H~@k[30;40H[32;101H   [29;28H[30;14H([25C)[32;113H6,28[29;28H[?25h[?25l[32;113H5,0-1[28;1H[?25h[?25l[32;101H~@k[28;1H[32;101H   [27;53H[32;113H4,53 [27;53H[?25h[?25l[26;34H[106m([3C)[m[32;113H3,38[26;38H[?25h[?25l[32;101H~@k[26;38H[32;101H   [25;1H[26;34H([3C)[32;113H2,0-1[25;1H[?25h[?25l[32;101H~@k[25;1H[32;101H   [24;1H[32;113H1[24;1H[?25h[?25l[32;101H~@k[24;1H[32;101H   [23;53H[23;44H[106m([8C)[m[32;113H0,53 [23;53H[?25h[?25l[32;101H~@k[23;53H[32;101H   [22;53H[23;44H([8C)[32;111H199[22;53H[?25h[?25l[32;101H~@k[22;53H[32;101H   [21;36H[32;113H8,36[21;36H[?25h[?25l[32;101H~@k[21;36H[32;101H   [20;53H[32;113H7,53[20;53H[?25h[?25l[32;101H~@k[20;53H[32;101H   [19;53H[32;113H6[19;53H[?25h[?25l[32;101H~@k[19;53H[32;101H   [18;32H[32;113H5,32[18;32H[?25h[?25l[32;101H~@k[18;32H[32;101H   [17;53H[32;113H4,53[17;53H[?25h[?25l[32;101H~@k[17;53H[32;101H   [16;42H[32;113H3,42[16;42H[?25h[?25l[32;101H~@k[16;42H[32;101H   [15;51H[32;113H2,51[15;51H[?25h[?25l[32;113H1,53[14;53H[?25h[?25l[32;101H~@k[14;53H[32;101H   [13;45H[32;113H0,45[13;45H[?25h[?25l[32;101H~@k[13;45H[32;101H   [12;28H[32;112H89,28[12;28H[?25h[?25l[32;101H~@k[12;28H[32;101H   [11;35H[32;113H8,35[11;35H[?25h[?25l[32;113H7,32[10;32H[?25h[?25l[32;101H~@k[10;32H[32;101H   [9;44H[32;113H6,44[9;44H[?25h[?25l[32;101H~@k[9;44H[32;101H   [8;53H[32;113H5,53[8;53H[?25h[?25l[32;101H~@k[8;53H[32;101H   [7;38H[7;21H[106m([16C)[m[32;113H4,38[7;38H[?25h[?25l[7;21H([16C)[32;113H3,0-1[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;32H[1;31r[1;1H[L[1;32r[1;13Hfiltered = [stringifyFilterPath(path, maxlen) [38;5;130mfor[m path [38;5;130min[m appendingElem][32;111H[K[32;111H182,32[8C99%[6;32H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m appendingElem:[32;111H[K[32;111H181,0-1[7C98%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;16H[1;31r[1;1H[L[1;32r[1;9HappendingElem = getShortestPath(pair)[32;111H[K[32;111H180,16[8C98%[6;16H[?25h[?25l[32;101H~@k[6;16H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mfor[m pair [38;5;130min[m pairedConcepts:[32;111H[K[32;111H179,0-1[7C97%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;34H[1;31r[1;1H[L[1;32r[1;5Hpaths = [][6;25H[106m([8C)[m[32;111H[K[32;111H178,34[8C97%[6;34H[?25h[?25l[32;101H~@k[6;34H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[7;25H([8C)[32;111H[K[32;111H177,53[8C96%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;25H[1;31r[1;1H[L[1;32r[1;5HpairedConcepts = [36mlist[m([36mdict[m.fromkeys(pairedConcepts))[32;111H[K[32;111H176,25[8C96%[6;25H[?25h[?25l[32;101H~@k[6;25H[32;101H   [7;45H[1;31r[1;1H[2L[1;32r[1;5HpairedConcepts = [(el[[31m0[m][[31m0[m], el[[31m1[m][[31m0[m]) [38;5;130mfor[m el [38;5;130min[m itertools.product(nps, nps) [38;5;130mif[m el[[31m1[m][[31m1[m] > el[[31m0[m][[31m2[m] [38;5;130mand[m notEqual(el[[31m0[m], el[[31m11[m[2;1H])][7;40H[106m([mpair[106m)[m[32;111H[K[32;111H175,45[8C94%[7;45H[?25h[?25l(pair)[32;113H4,31[6;31H[?25h[?25l[32;101H~@k[6;31H[32;101H   [6;14H[1;31r[1;1H[L[1;32r[1;5Hls = [36mlist[m(itertools.product(nps, nps))[6;13H[106m[][m[32;111H[K[32;111H173,14[8C94%[6;14H[?25h[?25l[32;101H~@k[6;14H[32;101H   [7;4H[1;31r[1;1H[2L[1;32r[1;5Hnps.extend([(word, pos, pos) [38;5;130mfor[m (pos, word) [38;5;130min[m [36menumerate[m(sentence) [38;5;130mif[m word.tag_[:[31m2[m] == [31m'NN'[m [38;5;130mand[m [36mlen[m(word.string.strip()) >  [2;1H[31m2[m])[8;13H[][32;111H[K[32;111H172,4[9C93%[7;4H[?25h[?25l[32;101H~@k[7;4H[32;101H   [6;53H[32;113H1,53[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;53H[1;31r[1;1H[2L[1;32r[2;5Hnps = [(n, n.start, n.end) [38;5;130mfor[m n [38;5;130min[m sentenceNounChunks][32;111H[K[32;111H170,53[8C92%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;42H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetDependencyPaths[m(sentence, nlp, sentenceNounChunks, maxlen):[6;14H[106m([27C)[m[32;111H[K[32;111H169,42[8C91%[6;42H[?25h[?25l[32;101H~@k[6;42H[32;101H   [6;53H[1;31r[1;1H[2L[1;32r[1;5H[38;5;130mreturn[m [36mNone[m[8;14H([27C)[32;111H[K[32;111H168,53[8C90%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H167,53[8C89%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m (stringifiedX, stringifiedY, stringifiedPath)[32;111H[K[32;111H166,0-1[7C89%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H165,53[8C88%[6;53H[?25h[?25l[1;31r[1;1H[2L[1;32r[1;9HstringifiedPath = [31m'_'[m.join(leftXPath + stringifiedArgX + stringifiedPathX + lowestCommonHeads + stringifiedPathY + strinn[2;1HgifiedArgY + rightYPath)[32;111H[K[32;111H164,0-1[7C87%[7;1H[?25h[?25l[32;101H~@k[7;1H[32;101H   [6;15H[32;113H3,15 [6;15H[?25h[?25l[32;101H~@k[6;15H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H162,0-1[7C87%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9HstringifiedArgX, stringifiedArgY = [stringifyArg(x, [31m'X'[m) + signX], [signY + stringifyArg(y, [31m'Y'[m)][32;111H[K[32;111H161,53[8C86%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [7;1H[1;31r[1;1H[2L[1;32r[1;9HstringifiedPathX, stringifiedPathY = [stringifyEdge(word) + [31m">"[m [38;5;130mfor[m word [38;5;130min[m pathX], [[31m"<"[m + stringifyEdge(word) [38;5;130mfor[m word  [2;1H[38;5;130min[m pathY][32;111H[K[32;111H160,0-1[7C85%[7;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H159,53[8C85%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;13HstringifiedY = [31m' '[m.join([y_wd.string.strip().lower() [38;5;130mfor[m y_wd [38;5;130min[m y])[32;111H[K[32;111H158,8[9C84%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130melse[m:[32;111H[K[32;111H157,53[8C83%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;53H[1;31r[1;1H[2L[1;32r[1;9H[38;5;130mif[m [36misinstance[m(y, Token):[2;13HstringifiedY = y.string.strip().lower()[32;111H[K[32;111H156,53[8C82%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H155,0-1[7C82%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;13HstringifiedX = [31m' '[m.join([x_wd.string.strip().lower() [38;5;130mfor[m x_wd [38;5;130min[m x])[32;111H[K[32;111H154,53[8C81%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;13H[1;31r[1;1H[L[1;32r[1;9H[38;5;130melse[m:[32;111H[K[32;111H153,13[8C81%[6;13H[?25h[?25l[32;101H~@k[6;13H[32;101H   [6;51H[1;31r[1;1H[L[1;32r[1;13HstringifiedX = x.string.strip().lower()[6;50H[106m()[m[32;111H[K[32;111H152,51[8C80%[6;51H[?25h[?25l[32;101H~@k[6;51H[32;101H   [6;32H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m [36misinstance[m(x, Token):[7;50H()[32;111H[K[32;111H151,32[8C80%[6;32H[?25h[?25l[32;101H~@k[6;32H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H150,8[9C79%[6;8H[?25h[?25l[32;101H~@k[6;8H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m maxlen >= [36mlen[m(pathX + leftXPath + pathY + rightYPath + lowestCommonHeads):[32;111H[K[32;111H149,53[8C79%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;13H[1;31r[1;1H[L[1;32r[31;1H[94m@@@                                                                                                                             [m[32;111H[K[32;111H148,13[8C78%[6;13H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HlowestCommonHeads = [[stringifyEdge(lowestCommonHead, [36mFalse[m)] [38;5;130mif[m lowestCommonHead [38;5;130mand[m [38;5;130mnot[m (isYHead [38;5;130mor[m isXHead) [38;5;130melse[m []][[31m0[m][6;50H[106m()[m[32;111H[K[32;111H147,51[8C78%[6;51H[?25h[?25l[32;101H~@k[6;51H[32;101H   [6;32H[1;31r[1;1H[L[1;32r[7;50H()[32;111H[K[32;111H146,32[8C77%[6;32H[?25h[?25l[32;101H~@k[6;32H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;9HrightYPath.append([31m">"[m + edge_str)[31;1H[94m@@@                                                                                                                             [m[32;111H[K[32;111H145,8[9C77%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hedge_str = stringifyEdge(rightY)[32;111H[K[32;111H144,53[8C77%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;4H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m rightY:[32;111H[K[32;111H143,4[9C76%[6;4H[?25h[?25l[32;101H~@k[6;4H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;5HrightYPath = [][32;111H[K[32;111H142,53[8C75%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HsignY = [31m''[m [38;5;130mif[m isYHead [38;5;130melse[m [31m'<'[m[32;111H[K[32;111H141,0-1[7C75%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;41H[1;31r[1;1H[L[1;32r[6;26H[106m([14C)[m[32;111H[K[32;111H140,41[8C74%[6;41H[?25h[?25l[32;101H~@k[6;41H[32;101H   [6;40H[1;31r[1;1H[L[1;32r[1;9HleftXPath.append(edge_str + [31m"<"[m)[6;33H[106m([mrightY[106m)[m[7;26H([14C)[32;111H[K[32;111H139,40[8C74%[6;40H[?25h[?25l[32;101H~@k[6;40H[32;101H   [6;14H[1;31r[1;1H[L[1;32r[1;9Hedge_str = stringifyEdge(leftX)[7;33H(rightY)[32;111H[K[32;111H138,14[8C73%[6;14H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m leftX:[6;18H[106m[][m[32;111H[K[32;111H137,19[8C73%[6;19H[?25h[?25l[32;101H~@k[6;19H[32;101H   [6;34H[1;31r[1;1H[L[1;32r[1;5HleftXPath  = [][7;18H[][32;111H[K[32;111H136,34[8C72%[6;34H[?25h[?25l[32;101H~@k[6;34H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5HsignX = [31m''[m [38;5;130mif[m isXHead [38;5;130melse[m [31m'>'[m[31;1H[94m@@@                                                                                                                             [m[32;111H[K[32;111H135,0-1[7C72%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;40H[1;31r[1;1H[L[1;32r[1;5HisXHead, isYHead = checkHead(x, lowestCommonHead), checkHead(y, lowestCommonHead)[6;25H[106m([14C)[m[32;111H[K[32;111H134,40[8C71%[6;40H[?25h[?25l[32;101H~@k[6;40H[32;101H   [6;39H[1;31r[1;1H[L[1;32r[6;33H[106m([mleftX[106m)[m[7;25H([14C)[32;111H[K[32;111H133,39[8C71%[6;39H[?25h[?25l[32;101H~@k[6;39H[32;101H   [6;13H[1;31r[1;1H[L[1;32r[1;5H(leftX, x, pathX, lowestCommonHead, pathY, y, rightY) = path[7;33H(leftX)[32;111H[K[32;111H132,13[8C70%[6;13H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HlowestCommonHeads = [][6;18H[106m[][m[31;1H[94m@@@                                                                                                                             [m[32;111H[K[32;111H131,19[8C70%[6;19H[?25h[?25l[32;101H~@k[6;19H[32;101H   [6;34H[1;31r[1;1H[L[1;32r[7;18H[][32;111H[K[32;111H130,34[8C70%[6;34H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mstringifyFilterPath[m(path, maxlen):[6;33H[106m([19C)[m[32;111H[K[32;111H129,53[8C69%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[7;33H([19C)[32;111H[K[32;111H128,0-1[7C68%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m [36mNone[m[32;111H[K[32;111H127,53[8C68%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[36mprint[m (e)[6;25H[106m[][m[32;111H[K[32;111H126,26[8C67%[6;26H[?25h[?25l[32;101H~@k[6;26H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m [32mException[m [38;5;130mas[m e:[7;25H[][32;111H[K[32;111H125,0-1[7C67%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m paths[32;111H[K[32;111H124,38[8C66%[6;38H[?25h[?25l[32;101H~@k[6;38H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H123,0-1[7C66%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;19H[1;31r[1;1H[L[1;32r[1;13Hpaths.append(([36mNone[m, xinit, pathX, lowestCommonHead, pathY, yinit, rights[[31m0[m]))[32;111H[K[32;111H122,19[8C65%[6;19H[?25h[?25l[32;101H~@k[6;19H[32;101H   [6;17H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m rights [38;5;130mand[m notPunct(rights):[6;15H[106m([me[106m)[m[32;111H[K[32;111H121,17[8C64%[6;17H[?25h[?25l[1;31r[1;1H[L[1;32r[7;15H(e)[32;111H[K[32;111H120,26[8C64%[6;26H[?25h[?25l[32;101H~@k[6;26H[32;101H   [6;20H[1;31r[1;1H[L[1;32r[1;13Hpaths.append((lefts[[31m0[m], xinit, pathX, lowestCommonHead, pathY, yinit, [36mNone[m))[32;111H[K[32;111H119,20[8C63%[6;20H[?25h[?25l[32;101H~@k[6;20H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m lefts [38;5;130mand[m notPunct(lefts):[32;111H[K[32;111H118,8[9C63%[6;8H[?25h[?25l[32;101H~@k[6;8H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H117,53[8C62%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hlefts, rights = [36mlist[m(xinit.lefts), [36mlist[m(yinit.rights)[32;111H[K[32;111H116,39[8C62%[6;39H[?25h[?25l[32;101H~@k[6;39H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hpaths = [([36mNone[m, xinit, pathX, lowestCommonHead, pathY, yinit, [36mNone[m)][32;111H[K[32;111H115,0-1[7C61%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H114,53[8C61%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;37H[1;31r[1;1H[L[1;32r[1;9HpathX = pathX[::-[31m1[m][32;111H[K[32;111H113,37[8C60%[6;37H[?25h[?25l[32;101H~@k[6;37H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13H[38;5;130mreturn[m [36mNone[m[32;111H[K[32;111H112,0-1[7C59%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [7;53H[1;31r[1;1H[2L[1;32r[1;9H[38;5;130mif[m lowestCommonHead [38;5;130mand[m (filterPaths(checkLeft, lowestCommonHead, pathX) [38;5;130mor[m filterPaths(checkRight, lowestCommonHead, paa[2;1HthY)):[32;111H[K[32;111H111,53[8C58%[7;53H[?25h[?25l[32;101H~@k[7;53H[32;101H   [6;53H[32;113H0[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9HcheckLeft, checkRight = [38;5;130mlambda[m h: h.lefts, [38;5;130mlambda[m h: h.rights[32;111H[K[32;111H109,0-1[7C58%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;27H[1;31r[1;1H[L[1;32r[1;9HpathY = pathY[idx+[31m1[m:][6;22H[106m[[4C][m[32;111H[K[32;111H108,27[8C57%[6;27H[?25h[?25l[32;101H~@k[6;27H[32;101H   [6;23H[1;31r[1;1H[L[1;32r[1;9HpathX = pathX[idx+[31m1[m:][7;22H[[4C][32;111H[K[32;111H107,23[8C57%[6;23H[?25h[?25l[1;31r[1;1H[2L[1;32r[2;5H[38;5;130mtry[m:[32;111H[K[32;111H106,53[8C56%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;5Hidx, lowestCommonHead = findLowestCommonHead(pathX, pathY, minLength, minArray)[32;111H[K[32;111H105,53[8C55%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[6;22H[106m[[6C][m[32;111H[K[32;111H104,29[8C55%[6;29H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HminLength, minArray = findMinLength(pathX, pathY)[6;22H[106m[[6C][m[7;22H[[6C][32;111H[K[32;111H103,29[8C54%[6;29H[?25h[?25l[32;101H~@k[6;29H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[7;22H[[6C][32;111H[K[32;111H102,8[9C53%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HpathX, pathY = getPathFromRoot(x), getPathFromRoot(y)[32;111H[K[32;111H101,4[9C53%[6;4H[?25h[?25l[32;101H~@k[6;4H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H100,53[8C52%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;4H[1;31r[1;1H[L[1;32r[1;5Hx, y = breakCompoundWords(xinit), breakCompoundWords(yinit)[32;111H[K[32;111H99,4[10C52%[6;4H[?25h[?25l[32;101H~@k[6;4H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[6;40H[106m([12C)[m[32;111H[K[32;111H98,53[9C51%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hxinit, yinit = tup[[31m0[m], tup[[31m1[m][7;40H([12C)[32;111H[K[32;111H97,4[10C51%[6;4H[?25h[?25l[32;101H~@k[6;4H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H96,53[9C50%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;4H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetShortestPath[m(tup):[32;111H[K[32;111H95,4[10C50%[6;4H[?25h[?25l[32;101H~@k[6;4H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H94,53[9C49%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m idx, lowestCommonHead[32;111H[K[32;111H93,0-1[8C48%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;33H[1;31r[1;1H[L[1;32r[6;31H[106m[[1C][m[32;111H[K[32;111H92,33[9C48%[6;33H[?25h[?25l[32;101H~@k[6;33H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;13HlowestCommonHead = [36mNone[m[7;31H[[1C][32;111H[K[32;111H91,0-1[8C47%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;25H[1;31r[1;1H[L[1;32r[1;9H[38;5;130melse[m:[32;111H[K[32;111H90,25[9C47%[6;25H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13HlowestCommonHead = pathY[[31m0[m][32;111H[K[32;111H89,0-1[8C46%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130melif[m pathY:[32;111H[K[32;111H88,32[9C46%[6;32H[?25h[?25l[32;101H~@k[6;32H[32;101H   [6;4H[1;31r[1;1H[L[1;32r[1;13HlowestCommonHead = pathX[[31m0[m][32;111H[K[32;111H87,4[10C45%[6;4H[?25h[?25l[32;101H~@k[6;4H[32;101H   [6;35H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m pathX:[32;111H[K[32;111H86,35[9C44%[6;35H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hidx = [31m0[m[32;111H[K[32;111H85,13[9C44%[6;13H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130melse[m:[6;37H[106m[[1C][m[32;111H[K[32;111H84,39[9C43%[6;39H[?25h[?25l[32;101H~@k[6;39H[32;101H   [6;19H[1;31r[1;1H[L[1;32r[1;9HlowestCommonHead = minArray[idx][7;37H[[1C][32;111H[K[32;111H83,19[9C43%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hidx = minLength - [31m1[m[6;37H[106m[[1C][m[32;111H[K[32;111H82,39[9C42%[6;39H[?25h[?25l[32;101H~@k[6;39H[32;101H   [6;17H[1;31r[1;1H[L[1;32r[1;9H[38;5;130melse[m:[7;37H[[1C][31;1H[94m@@@                                                                                                                             [m[32;111H[K[32;111H81,17[9C42%[6;17H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hidx = uncommon[[31m0[m] - [31m1[m[32;111H[K[32;111H80,15[9C41%[6;15H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m uncommon:[32;111H[K[32;111H79,9[10C41%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;40H[1;31r[1;1H[L[1;32r[1;9Huncommon = [i [38;5;130mfor[m i [38;5;130min[m [36mrange[m(minLength) [38;5;130mif[m pathX[i] != pathY[i]][6;36H[106m[[midx[106m][m[32;111H[K[32;111H78,40[9C40%[6;40H[?25h[?25l[32;101H~@k[6;40H[32;101H   [6;31H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m minLength:[7;36H[idx][32;111H[K[32;111H77,31[9C40%[6;31H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HlowestCommonHead = [36mNone[m[32;111H[K[32;111H76,13[9C39%[6;13H[?25h[?25l[32;101H~@k[6;13H[32;101H   [6;33H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfindLowestCommonHead[m(pathX, pathY, minLength, minArray):[32;111H[K[32;111H75,33[9C38%[6;33H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H74,20[9C38%[6;20H[?25h[?25l[32;101H~@k[6;20H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m ([36mlen[m(y), y)[32;111H[K[32;111H73,53[9C37%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;25H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m ([36mlen[m(x), x)[32;111H[K[32;111H72,25[9C37%[6;25H[?25h[?25l[32;101H~@k[6;25H[32;101H   [6;27H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m [36mlen[m(x) < [36mlen[m(y):[32;111H[K[32;111H71,27[9C36%[6;27H[?25h[?25l[32;101H~@k[6;27H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfindMinLength[m(x, y):[32;111H[K[32;111H70,53[9C36%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H69,0-1[8C35%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;22H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m elem[6;12H[106m([9C)[m[32;111H[K[32;111H68,22[9C35%[6;22H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[6;16H[106m([9C)[m[7;12H([9C)[32;111H[K[32;111H67,26[9C34%[6;26H[?25h[?25l[32;101H~@k[6;26H[32;101H   [6;23H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m root[7;16H([9C)[32;111H[K[32;111H66,23[9C33%[6;23H[?25h[?25l[32;101H~@k[6;23H[32;101H   [6;24H[1;31r[1;1H[L[1;32r[1;9Hroot = elem.root[32;111H[K[32;111H65,24[9C33%[6;24H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H64,0-1[8C32%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mbreakCompoundWords[m(elem):[32;111H[K[32;111H63,19[9C32%[6;19H[?25h[?25l[32;101H~@k[6;19H[32;101H   [6;11H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H62,11[9C31%[6;11H[?25h[?25l[32;101H~@k[6;11H[32;101H   [6;19H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m paths[32;111H[K[32;111H61,19[9C31%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpaths = paths[::-[31m1[m][32;111H[K[32;111H60,24[9C30%[6;24H[?25h[?25l[32;101H~@k[6;24H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;9Hhead = phrase.head[32;111H[K[32;111H59,8[10C29%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpaths.append(phrase)[32;111H[K[32;111H58,29[9C29%[6;29H[?25h[?25l[32;101H~@k[6;29H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hphrase = phrase.head[32;111H[K[32;111H57,0-1[8C28%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwhile[m phrase != head:[32;111H[K[32;111H56,16[9C28%[6;16H[?25h[?25l[32;101H~@k[6;16H[32;101H   [6;23H[1;31r[1;1H[L[1;32r[1;5Hhead = phrase.head[6;18H[106m[[4C][m[32;111H[K[32;111H55,23[9C27%[6;23H[?25h[?25l[32;101H~@k[6;23H[32;101H   [6;26H[1;31r[1;1H[L[1;32r[1;5Hpaths = [][7;18H[[4C][32;111H[K[32;111H54,26[9C27%[6;26H[?25h[?25l[32;101H~@k[6;26H[32;101H   [6;28H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetPathFromRoot[m(phrase):[6;21H[106m([mphrase[106m)[m[32;111H[K[32;111H53,28[9C26%[6;28H[?25h[?25l[32;101H~@k[6;28H[32;101H   [6;28H[1;31r[1;1H[L[1;32r[7;21H(phrase)[32;111H[K[32;111H52,28[9C25%[6;28H[?25h[?25l[32;101H~@k[6;28H[32;101H   [6;25H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m [36misinstance[m(token, Token) [38;5;130mand[m lowestCommonHead == token[32;111H[K[32;111H51,25[9C25%[6;25H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mcheckHead[m(token, lowestCommonHead):[32;111H[K[32;111H50,22[9C24%[6;22H[?25h[?25l[1;31r[1;1H[L[1;32r[6;13H[106m[][m[32;111H[K[32;111H49,14[9C24%[6;14H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m [36mFalse[m[7;13H[][32;111H[K[32;111H48,28[9C23%[6;28H[?25h[?25l[32;101H~@k[6;28H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H47,0-1[8C23%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m x!=y[32;111H[K[32;111H46,53[9C22%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H45,39[9C22%[6;39H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mnotEqual[m(x, y):[32;111H[K[32;111H44,0-1[8C21%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,20[9C20%[6;20H[?25h[?25l[32;101H~@k[6;20H[32;101H   [6;11H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m firstWord.tag_ != [31m'PUNCT'[m [38;5;130mand[m [36mlen[m(firstWord.string.strip()) > [31m1[m[32;111H[K[32;111H42,11[9C20%[6;11H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HfirstWord = arr[[31m0[m][32;111H[K[32;111H41,19[9C19%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mnotPunct[m(arr):[32;111H[K[32;111H40,8[10C19%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H39,19[9C18%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m [36many[m(node [38;5;130mnot[m [38;5;130min[m function(path) [38;5;130mfor[m path, node [38;5;130min[m [36mlist[m([36mzip[m(path1, path2)))[32;111H[K[32;111H38,0-1[8C18%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;5Hpath2 = paths[32;111H[K[32;111H37,53[9C17%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath1.extend(paths[:-[31m1[m])[6;20H[106m[[1C][m[32;111H[K[32;111H36,22[9C16%[6;22H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath1 = [lowestCommonHead][7;20H[[1C][32;111H[K[32;111H35,18[9C16%[6;18H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfilterPaths[m(function, lowestCommonHead, paths):[32;111H[K[32;111H34,0-1[8C15%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H33,53[9C15%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m path[32;111H[K[32;111H32,17[9C14%[6;17H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath = [31m'/'[m.join([edge, pos, deps [38;5;130mif[m deps [38;5;130melse[m [31m'ROOT'[m])[6;17H[106m([10C)[m[32;111H[K[32;111H31,28[9C14%[6;28H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpos, deps = word.pos_, word.dep_[6;13H[106m[[16C][m[7;17H([10C)[32;111H[K[32;111H30,30[9C13%[6;30H[?25h[?25l[32;101H~@k[6;30H[32;101H   [6;51H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mpass[m[7;13H[[16C][32;111H[K[32;111H29,51[9C12%[6;51H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H28,0-1[8C12%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hword = word.root[32;111H[K[32;111H27,15[9C11%[6;15H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H26,53[9C11%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;36H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mstringifyArg[m(word, edge):[32;111H[K[32;111H25,36[9C10%[6;36H[?25h[?25l[32;101H~@k[6;36H[32;101H   [6;12H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H24,12[9C10%[6;12H[?25h[?25l[32;101H~@k[6;12H[32;101H   [6;11H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m path[32;111H[K[32;111H23,11[10C9%[6;11H[?25h[?25l[32;101H~@k[6;11H[32;101H   [6;24H[1;31r[1;1H[L[1;32r[1;5Hpath = [31m'/'[m.join([word, pos, deps [38;5;130mif[m deps [38;5;130mand[m root [38;5;130melse[m [31m'ROOT'[m])[32;111H[K[32;111H22,24[10C9%[6;24H[?25h[?25l[32;101H~@k[6;24H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;5Hpos, deps = w.pos_, w.dep_[32;111H[K[32;111H21,8[11C8%[6;8H[?25h[?25l[32;101H~@k[6;8H[32;101H   [6;29H[1;31r[1;1H[L[1;32r[1;9Hword = [31m' '[m.join([wd.string.strip().lower() [38;5;130mfor[m wd [38;5;130min[m word])[32;111H[K[32;111H20,29[10C7%[6;29H[?25h[?25l[32;101H~@k[6;29H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130melse[m:[32;111H[K[32;111H19,0-1[9C7%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;15H[1;31r[1;1H[L[1;32r[1;9Hword = word.lemma_.strip().lower()[32;111H[K[32;111H18,15[10C6%[6;15H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m [36misinstance[m(word, Token):[32;111H[K[32;111H17,53[10C6%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H16,30[10C5%[6;30H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hw = word[32;111H[K[32;111H15,53[10C5%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H14,9[11C4%[6;9H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hw = word.root[6;41H[106m()[m[32;111H[K[32;111H13,42[10C3%[6;42H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[7;41H()[32;111H[K[32;111H12,31[10C3%[6;31H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mstringifyEdge[m(word, root=[36mTrue[m):[32;111H[K[32;111H11,0-1[9C2%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H10,16[10C2%[6;16H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1HMAX_PATH_LENS = [[31m4[m, [31m6[m, [31m8[m, [31m10[m, [31m15[m, [31m30[m][32;111H[K[32;111H9,11[11C1%[6;11H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H8,21[11C1%[6;21H[?25h[?25l[32;101H~@k[6;21H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;1H[35mfrom[m spacy.tokens.token [35mimport[m Token[32;111H[K[32;111H7,8[12C0%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[35mimport[m spacy, subprocess, itertools, multiprocessing, sys[32;111H[K[32;111H6,35[10CTop[6;35H[?25h[?25l[32;111H5,0-1[5;1H[?25h[?25l[4;17H[106m[[19C][m[32;111H4,37 [4;37H[?25h[?25l[4;17H[[19C][32;111H3,0-1[3;1H[?25h[?25l[32;111H2,36 [2;36H[?25h[?25l[32;101H~@k[2;36H[32;101H   [1;53H[32;111H1,53[1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H l[32;101H~@k[6;4H[32;101H   [6;35H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m pathX:[32;111H[K[32;111H86,35[9C44%[6;35H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hidx = [31m0[m[32;111H[K[32;111H85,13[9C44%[6;13H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130melse[m:[6;37H[106m[[1C][m[32;111H[K[32;111H84,39[9C43%[6;39H[?25h[?25l[32;101H~@k[6;39H[32;101H   [6;19H[1;31r[1;1H[L[1;32r[1;9HlowestCommonHead = minArray[idx][7;37H[[1C][32;111H[K[32;111H83,19[9C43%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hidx = minLength - [31m1[m[6;37H[106m[[1C][m[32;111H[K[32;111H82,39[9C42%[6;39H[?25h[?25l[32;101H~@k[6;39H[32;101H   [6;17H[1;31r[1;1H[L[1;32r[1;9H[38;5;130melse[m:[7;37H[[1C][31;1H[94m@@@                                                                                                                             [m[32;111H[K[32;111H81,17[9C42%[6;17H[?25h[?25l[1;31r[1;1H[L[1;32r[1;13Hidx = uncommon[[31m0[m] - [31m1[m[32;111H[K[32;111H80,15[9C41%[6;15H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mif[m uncommon:[32;111H[K[32;111H79,9[10C41%[6;9H[?25h[?25l[32;101H~@k[6;9H[32;101H   [6;40H[1;31r[1;1H[L[1;32r[1;9Huncommon = [i [38;5;130mfor[m i [38;5;130min[m [36mrange[m(minLength) [38;5;130mif[m pathX[i] != pathY[i]][6;36H[106m[[midx[106m][m[32;111H[K[32;111H78,40[9C40%[6;40H[?25h[?25l[32;101H~@k[6;40H[32;101H   [6;31H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m minLength:[7;36H[idx][32;111H[K[32;111H77,31[9C40%[6;31H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HlowestCommonHead = [36mNone[m[32;111H[K[32;111H76,13[9C39%[6;13H[?25h[?25l[32;101H~@k[6;13H[32;101H   [6;33H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfindLowestCommonHead[m(pathX, pathY, minLength, minArray):[32;111H[K[32;111H75,33[9C38%[6;33H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H74,20[9C38%[6;20H[?25h[?25l[32;101H~@k[6;20H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m ([36mlen[m(y), y)[32;111H[K[32;111H73,53[9C37%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;25H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m ([36mlen[m(x), x)[32;111H[K[32;111H72,25[9C37%[6;25H[?25h[?25l[32;101H~@k[6;25H[32;101H   [6;27H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m [36mlen[m(x) < [36mlen[m(y):[32;111H[K[32;111H71,27[9C36%[6;27H[?25h[?25l[32;101H~@k[6;27H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfindMinLength[m(x, y):[32;111H[K[32;111H70,53[9C36%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H69,0-1[8C35%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;22H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m elem[6;12H[106m([9C)[m[32;111H[K[32;111H68,22[9C35%[6;22H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[6;16H[106m([9C)[m[7;12H([9C)[32;111H[K[32;111H67,26[9C34%[6;26H[?25h[?25l[32;101H~@k[6;26H[32;101H   [6;23H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m root[7;16H([9C)[32;111H[K[32;111H66,23[9C33%[6;23H[?25h[?25l[32;101H~@k[6;23H[32;101H   [6;24H[1;31r[1;1H[L[1;32r[1;9Hroot = elem.root[32;111H[K[32;111H65,24[9C33%[6;24H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H64,0-1[8C32%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mbreakCompoundWords[m(elem):[32;111H[K[32;111H63,19[9C32%[6;19H[?25h[?25l[32;101H~@k[6;19H[32;101H   [6;11H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H62,11[9C31%[6;11H[?25h[?25l[32;101H~@k[6;11H[32;101H   [6;19H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m paths[32;111H[K[32;111H61,19[9C31%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpaths = paths[::-[31m1[m][32;111H[K[32;111H60,24[9C30%[6;24H[?25h[?25l[32;101H~@k[6;24H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;9Hhead = phrase.head[32;111H[K[32;111H59,8[10C29%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hpaths.append(phrase)[32;111H[K[32;111H58,29[9C29%[6;29H[?25h[?25l[32;101H~@k[6;29H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;9Hphrase = phrase.head[32;111H[K[32;111H57,0-1[8C28%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mwhile[m phrase != head:[32;111H[K[32;111H56,16[9C28%[6;16H[?25h[?25l[32;101H~@k[6;16H[32;101H   [6;23H[1;31r[1;1H[L[1;32r[1;5Hhead = phrase.head[6;18H[106m[[4C][m[32;111H[K[32;111H55,23[9C27%[6;23H[?25h[?25l[32;101H~@k[6;23H[32;101H   [6;26H[1;31r[1;1H[L[1;32r[1;5Hpaths = [][7;18H[[4C][32;111H[K[32;111H54,26[9C27%[6;26H[?25h[?25l[32;101H~@k[6;26H[32;101H   [6;28H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mgetPathFromRoot[m(phrase):[6;21H[106m([mphrase[106m)[m[32;111H[K[32;111H53,28[9C26%[6;28H[?25h[?25l[32;101H~@k[6;28H[32;101H   [6;28H[1;31r[1;1H[L[1;32r[7;21H(phrase)[32;111H[K[32;111H52,28[9C25%[6;28H[?25h[?25l[32;101H~@k[6;28H[32;101H   [6;25H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m [36misinstance[m(token, Token) [38;5;130mand[m lowestCommonHead == token[32;111H[K[32;111H51,25[9C25%[6;25H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mcheckHead[m(token, lowestCommonHead):[32;111H[K[32;111H50,22[9C24%[6;22H[?25h[?25l[1;31r[1;1H[L[1;32r[6;13H[106m[][m[32;111H[K[32;111H49,14[9C24%[6;14H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m [36mFalse[m[7;13H[][32;111H[K[32;111H48,28[9C23%[6;28H[?25h[?25l[32;101H~@k[6;28H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H47,0-1[8C23%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9H[38;5;130mreturn[m x!=y[32;111H[K[32;111H46,53[9C22%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H45,39[9C22%[6;39H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mnotEqual[m(x, y):[32;111H[K[32;111H44,0-1[8C21%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H43,20[9C20%[6;20H[?25h[?25l[32;101H~@k[6;20H[32;101H   [6;11H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m firstWord.tag_ != [31m'PUNCT'[m [38;5;130mand[m [36mlen[m(firstWord.string.strip()) > [31m1[m[32;111H[K[32;111H42,11[9C20%[6;11H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5HfirstWord = arr[[31m0[m][32;111H[K[32;111H41,19[9C19%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mnotPunct[m(arr):[32;111H[K[32;111H40,8[10C19%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H39,19[9C18%[6;19H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m [36many[m(node [38;5;130mnot[m [38;5;130min[m function(path) [38;5;130mfor[m path, node [38;5;130min[m [36mlist[m([36mzip[m(path1, path2)))[32;111H[K[32;111H38,0-1[8C18%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;53H[1;31r[1;1H[L[1;32r[1;5Hpath2 = paths[32;111H[K[32;111H37,53[9C17%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath1.extend(paths[:-[31m1[m])[6;20H[106m[[1C][m[32;111H[K[32;111H36,22[9C16%[6;22H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath1 = [lowestCommonHead][7;20H[[1C][32;111H[K[32;111H35,18[9C16%[6;18H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mfilterPaths[m(function, lowestCommonHead, paths):[32;111H[K[32;111H34,0-1[8C15%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H33,53[9C15%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m path[32;111H[K[32;111H32,17[9C14%[6;17H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpath = [31m'/'[m.join([edge, pos, deps [38;5;130mif[m deps [38;5;130melse[m [31m'ROOT'[m])[6;17H[106m([10C)[m[32;111H[K[32;111H31,28[9C14%[6;28H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5Hpos, deps = word.pos_, word.dep_[6;13H[106m[[16C][m[7;17H([10C)[32;111H[K[32;111H30,30[9C13%[6;30H[?25h[?25l[32;101H~@k[6;30H[32;101H   [6;51H[1;31r[1;1H[L[1;32r[1;9H[38;5;130mpass[m[7;13H[[16C][32;111H[K[32;111H29,51[9C12%[6;51H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H28,0-1[8C12%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hword = word.root[32;111H[K[32;111H27,15[9C11%[6;15H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[32;111H[K[32;111H26,53[9C11%[6;53H[?25h[?25l[32;101H~@k[6;53H[32;101H   [6;36H[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mstringifyArg[m(word, edge):[32;111H[K[32;111H25,36[9C10%[6;36H[?25h[?25l[32;101H~@k[6;36H[32;101H   [6;12H[1;31r[1;1H[L[1;32r[32;111H[K[32;111H24,12[9C10%[6;12H[?25h[?25l[32;101H~@k[6;12H[32;101H   [6;11H[1;31r[1;1H[L[1;32r[1;5H[38;5;130mreturn[m path[32;111H[K[32;111H23,11[10C9%[6;11H[?25h[?25l[32;101H~@k[6;11H[32;101H   [6;24H[1;31r[1;1H[L[1;32r[1;5Hpath = [31m'/'[m.join([word, pos, deps [38;5;130mif[m deps [38;5;130mand[m root [38;5;130melse[m [31m'ROOT'[m])[32;111H[K[32;111H22,24[10C9%[6;24H[?25h[?25l[32;101H~@k[6;24H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;5Hpos, deps = w.pos_, w.dep_[32;111H[K[32;111H21,8[11C8%[6;8H[?25h[?25l[32;101H~@k[6;8H[32;101H   [6;29H[1;31r[1;1H[L[1;32r[1;9Hword = [31m' '[m.join([wd.string.strip().lower() [38;5;130mfor[m wd [38;5;130min[m word])[32;111H[K[32;111H20,29[10C7%[6;29H[?25h[?25l[32;101H~@k[6;29H[32;101H   [6;1H[1;31r[1;1H[L[1;32r[1;5H[38;5;130melse[m:[32;111H[K[32;111H19,0-1[9C7%[6;1H[?25h[?25l[32;101H~@k[6;1H[32;101H   [6;15H[1;31r[1;1H[L[1;32r[1;9Hword = word.lemma_.strip().lower()[32;111H[K[32;111H18,15[10C6%[6;15H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mif[m [36misinstance[m(word, Token):[32;111H[K[32;111H17,53[10C6%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H16,30[10C5%[6;30H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hw = word[32;111H[K[32;111H15,53[10C5%[6;53H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mexcept[m:[32;111H[K[32;111H14,9[11C4%[6;9H[?25h[?25l[1;31r[1;1H[L[1;32r[1;9Hw = word.root[6;41H[106m()[m[32;111H[K[32;111H13,42[10C3%[6;42H[?25h[?25l[1;31r[1;1H[L[1;32r[1;5H[38;5;130mtry[m:[7;41H()[32;111H[K[32;111H12,31[10C3%[6;31H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[38;5;130mdef[m [36mstringifyEdge[m(word, root=[36mTrue[m):[32;111H[K[32;111H11,0-1[9C2%[6;1H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H10,16[10C2%[6;16H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1HMAX_PATH_LENS = [[31m4[m, [31m6[m, [31m8[m, [31m10[m, [31m15[m, [31m30[m][32;111H[K[32;111H9,11[11C1%[6;11H[?25h[?25l[1;31r[1;1H[L[1;32r[32;111H[K[32;111H8,21[11C1%[6;21H[?25h[?25l[32;101H~@k[6;21H[32;101H   [6;8H[1;31r[1;1H[L[1;32r[1;1H[35mfrom[m spacy.tokens.token [35mimport[m Token[32;111H[K[32;111H7,8[12C0%[6;8H[?25h[?25l[1;31r[1;1H[L[1;32r[1;1H[35mimport[m spacy, subprocess, itertools, multiprocessing, sys[32;111H[K[32;111H6,35[10CTop[6;35H[?25h[?25l[32;111H5,0-1[5;1H[?25h[?25l[4;17H[106m[[19C][m[32;111H4,37 [4;37H[?25h[?25l[4;17H[[19C][32;111H3,0-1[3;1H[?25h[?25l[32;111H2,36 [2;36H[?25h[?25l[32;101H~@k[2;36H[32;101H   [1;53H[32;111H1,53[1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H~@k[1;53H[32;101H   [1;53H[?25h[?25l[32;101H:[1;53H[32;101H[K[32;1H:[?2004h[?25hq[?25l[?25h[?25l[?2004l[32;1H[K[32;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;vlead@vlead-server2: /data/Vivek/Final/SIREN-Research/OntoEnricher/src[01;32mvlead@vlead-server2[00m:[01;34m/data/Vivek/Final/SIREN-Research/OntoEnricher/src[00m$ vi corpus_parser.py [5@path_terms_index[C[C[C[C[C[Crun.sh [K[15@path_terms_indexer.py[C